<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spark Aviation | Elevating Excellence in Aviation</title>
<meta name="description" content="Aircraft Sales, Acquisition & Management. Founded by international aviation veteran Marcelo Borin.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500&family=Italiana&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://unpkg.com/topojson-client@3"></script>
<style>
@font-face {
  font-family: 'Makro';
  src: url('assets/branding/Fonts/Makro Medium.ttf') format('truetype');
  font-weight: 500;
  font-display: swap;
}
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --navy: #0C1220;
  --navy-mid: #131B2B;
  --bg: #F8F7F4;
  --bg-alt: #EFEEE9;
  --white: #FFFFFF;
  --gold: #B8976A;
  --text-dark: #0C1220;
  --text-body-dark: #3A4258;
  --text-body: rgba(255,255,255,0.80);
  --text-light: rgba(255,255,255,0.58);
  --text-dim: rgba(255,255,255,0.32);
  --border: rgba(255,255,255,0.08);
  --border-light: rgba(12,18,32,0.08);
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
}
html { overflow-x: hidden; scroll-behavior: smooth; }
body {
  font-family: 'Inter', -apple-system, sans-serif;
  background: var(--bg);
  color: var(--text-dark);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  cursor: none;
}
@media (max-width: 1024px) { body { cursor: auto; } }
::selection { background: var(--gold); color: var(--navy); }
img { display: block; max-width: 100%; }
a { text-decoration: none; color: inherit; }

/* ═══ FLOATING GRADIENT MESH ═══ */
.gradient-mesh {
  position: fixed; inset: 0; z-index: 0;
  pointer-events: none; overflow: hidden;
}
.mesh-orb {
  position: absolute; border-radius: 50%;
  filter: blur(120px);
  will-change: transform;
}
.mesh-orb-1 {
  width: 600px; height: 600px;
  background: rgba(184, 151, 106, 0.07);
  top: -10%; left: -5%;
  animation: meshFloat1 20s ease-in-out infinite alternate;
}
.mesh-orb-2 {
  width: 500px; height: 500px;
  background: rgba(180, 200, 230, 0.08);
  bottom: -10%; right: -5%;
  animation: meshFloat2 24s ease-in-out infinite alternate;
}
.mesh-orb-3 {
  width: 400px; height: 400px;
  background: rgba(184, 151, 106, 0.05);
  top: 40%; left: 50%;
  animation: meshFloat3 18s ease-in-out infinite alternate;
}
@keyframes meshFloat1 { 0% { transform: translate(0, 0); } 100% { transform: translate(80px, 60px); } }
@keyframes meshFloat2 { 0% { transform: translate(0, 0); } 100% { transform: translate(-60px, -80px); } }
@keyframes meshFloat3 { 0% { transform: translate(0, 0); } 100% { transform: translate(-40px, 50px); } }

/* ═══ CUSTOM CURSOR ═══ */
.cursor-dot {
  position: fixed; top: 0; left: 0; z-index: 99999;
  width: 20px; height: 20px;
  pointer-events: none;
  mix-blend-mode: difference;
  will-change: transform;
}
.cursor-dot::before, .cursor-dot::after {
  content: ''; position: absolute;
  background: var(--white);
  transition: transform 0.3s var(--ease-out), opacity 0.3s;
}
.cursor-dot::before { width: 1px; height: 20px; left: 50%; top: 0; transform: translateX(-50%); }
.cursor-dot::after { width: 20px; height: 1px; top: 50%; left: 0; transform: translateY(-50%); }
.cursor-dot.hover::before { transform: translateX(-50%) scaleY(0.5); }
.cursor-dot.hover::after { transform: translateY(-50%) scaleX(0.5); }
.cursor-ring {
  position: fixed; top: 0; left: 0; z-index: 99998;
  width: 40px; height: 40px; border-radius: 50%;
  pointer-events: none;
  will-change: transform;
  background: radial-gradient(circle, rgba(184,151,106,0.08) 0%, transparent 70%);
  transition: width 0.4s var(--ease-out), height 0.4s var(--ease-out), opacity 0.4s;
  opacity: 0;
}
.cursor-ring.hover {
  width: 80px; height: 80px;
  opacity: 1;
  background: radial-gradient(circle, rgba(184,151,106,0.12) 0%, transparent 70%);
}
@media (max-width: 1024px) {
  .cursor-dot, .cursor-ring { display: none !important; }
}

/* ═══ FILM GRAIN ═══ */
.film-grain {
  position: fixed; inset: 0; z-index: 9999;
  pointer-events: none; opacity: 0.018;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='1'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 256px 256px;
  animation: grainShift 0.5s steps(4) infinite;
}
@keyframes grainShift {
  0% { transform: translate(0, 0); }
  25% { transform: translate(-2px, 2px); }
  50% { transform: translate(2px, -2px); }
  75% { transform: translate(-1px, -1px); }
  100% { transform: translate(1px, 1px); }
}

/* ═══ PRELOADER ═══ */
.preloader {
  position: fixed; inset: 0; z-index: 100000;
  background: var(--bg);
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 32px;
}
.pre-bolt { width: 80px; height: auto; }
.pre-bolt path {
  fill: none;
  stroke: rgba(12,18,32,0.7);
  stroke-width: 8;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.pre-text {
  font-family: 'Makro', Georgia, serif;
  font-size: 14px; letter-spacing: 0.35em;
  text-transform: uppercase;
  color: rgba(12,18,32,0.4);
  opacity: 0;
}
.pre-bar-wrap {
  width: 200px; height: 1px;
  background: rgba(12,18,32,0.08);
  border-radius: 1px;
  overflow: hidden;
  opacity: 0;
}
.pre-bar {
  width: 0%; height: 100%;
  background: linear-gradient(90deg, rgba(30,60,140,0.5), var(--gold));
  border-radius: 1px;
  transition: width 0.1s linear;
}
.pre-pct {
  font-size: 11px; letter-spacing: 0.2em;
  color: rgba(12,18,32,0.2);
  font-weight: 300;
  opacity: 0;
}

/* ═══ NAV ═══ */
.nav {
  position: fixed; top: 0; left: 0; right: 0; z-index: 9000;
  display: flex; align-items: center; justify-content: space-between;
  padding: 32px 48px;
  transition: background 0.5s, padding 0.4s var(--ease-out), backdrop-filter 0.5s;
  opacity: 0;
  color: var(--white);
  text-shadow: 0 1px 12px rgba(0,0,0,0.25);
}
.nav.show { opacity: 1; transition: opacity 0.8s 0.3s, background 0.5s, padding 0.4s var(--ease-out); }
.nav.scrolled {
  padding: 18px 48px;
  background: rgba(248,247,244,0.90);
  backdrop-filter: blur(40px);
  -webkit-backdrop-filter: blur(40px);
}
.nav.scrolled .nav-logo-text { color: var(--text-dark); }
.nav.scrolled .nav-logo svg path { fill: var(--text-dark); }
.nav.scrolled .nav-links li a { color: rgba(12,18,32,0.55); }
.nav.scrolled .nav-links li a:hover { color: var(--text-dark); }
.nav.scrolled .nav-links li a::after { background: var(--text-dark); }
.nav.scrolled .nav-cta { border-color: rgba(12,18,32,0.15); color: var(--text-dark); }
.nav.scrolled .nav-cta:hover { background: var(--navy); color: var(--white); border-color: var(--navy); }
.nav.scrolled .mobile-toggle svg { stroke: var(--text-dark); }
.nav.scrolled { text-shadow: none; }
.nav-logo { display: flex; align-items: center; gap: 14px; }
.nav-logo svg { height: 24px; width: auto; }
.nav-logo-text {
  font-size: 11px; font-weight: 500;
  letter-spacing: 0.3em; text-transform: uppercase;
}
.nav-links { display: flex; align-items: center; gap: 44px; list-style: none; }
.nav-links li a {
  font-size: 11px; font-weight: 400;
  letter-spacing: 0.15em; text-transform: uppercase;
  color: rgba(255,255,255,0.6);
  transition: color 0.3s;
  position: relative;
}
.nav-links li a::after {
  content: ''; position: absolute; bottom: -4px; left: 0;
  width: 0; height: 1px; background: var(--white);
  transition: width 0.4s var(--ease-out);
}
.nav-links li a:hover { color: var(--white); }
.nav-links li a:hover::after { width: 100%; }
.nav-cta {
  padding: 10px 28px;
  border: 1px solid rgba(255,255,255,0.15);
  transition: all 0.4s var(--ease-out);
}
.nav-cta::after { display: none; }
.nav-cta:hover { background: var(--white); color: var(--navy); border-color: var(--white); }
.mobile-toggle { display: none; background: none; border: none; cursor: none; }
.mobile-menu {
  position: fixed; inset: 0; z-index: 8999;
  background: var(--navy);
  display: flex; flex-direction: column;
  align-items: center; justify-content: center; gap: 48px;
  opacity: 0; pointer-events: none;
  transition: opacity 0.4s;
}
.mobile-menu.open { opacity: 1; pointer-events: all; }
.mobile-menu a {
  font-family: 'Makro', Georgia, serif;
  font-size: 28px; font-weight: 500;
  letter-spacing: 0.06em; text-transform: uppercase;
  transition: color 0.3s;
}
.mobile-menu a:hover { color: var(--gold); }
.mobile-close {
  position: absolute; top: 32px; right: 48px;
  background: none; border: none; cursor: none;
}

/* ═══ HERO ═══ */
.hero {
  position: relative; height: 100vh; min-height: 700px;
  display: flex; align-items: center; justify-content: center;
  overflow: hidden;
}
.hero-media {
  position: absolute; inset: 0;
  will-change: transform;
  transform: scale(1.1);
}
.hero-media video, .hero-media img {
  width: 100%; height: 100%; object-fit: cover;
}
.hero-media img { position: absolute; inset: 0; }
.hero-overlay {
  position: absolute; inset: 0; z-index: 2;
  background: linear-gradient(180deg,
    rgba(12,18,32,0.15) 0%,
    rgba(12,18,32,0.25) 50%,
    rgba(12,18,32,0.55) 100%
  );
}
/* Gradual blur at bottom of hero */
.hero-blur-wrap {
  position: absolute; bottom: 0; left: 0; right: 0;
  height: 180px; z-index: 3;
  pointer-events: none;
}
.hero-blur-layer {
  position: absolute; left: 0; right: 0; bottom: 0;
}
.hero-blur-layer:nth-child(1) { height: 100%; backdrop-filter: blur(1px); -webkit-backdrop-filter: blur(1px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }
.hero-blur-layer:nth-child(2) { height: 80%; backdrop-filter: blur(2px); -webkit-backdrop-filter: blur(2px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }
.hero-blur-layer:nth-child(3) { height: 60%; backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }
.hero-blur-layer:nth-child(4) { height: 40%; backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }
.hero-blur-layer:nth-child(5) { height: 25%; backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }
.hero-blur-layer:nth-child(6) { height: 12%; backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }

.hero-content {
  position: relative; z-index: 10;
  text-align: center; padding: 0 24px;
  color: var(--white);
  text-shadow: 0 2px 20px rgba(0,0,0,0.3);
}
.hero-icon { width: 36px; margin: 0 auto 24px; }
.hero-icon svg { width: 100%; height: auto; opacity: 0.7; }
.hero-label {
  font-size: 11px; font-weight: 500;
  letter-spacing: 0.3em; text-transform: uppercase;
  color: rgba(255,255,255,0.75);
  margin-bottom: 16px;
}
.hero h1 {
  font-family: 'Makro', Georgia, serif;
  font-weight: 500; text-transform: uppercase;
  letter-spacing: 0.02em;
  font-size: clamp(44px, 7vw, 100px);
  line-height: 1.0;
}
.hero-line { display: block; overflow: hidden; }
.hero-line-inner { display: block; transform: translateY(110%); }
.hero-divider {
  width: 60px; height: 1px;
  background: rgba(255,255,255,0.2);
  margin: 40px auto;
  transform: scaleX(0);
}
.hero-sub {
  font-size: 14px; font-weight: 300;
  line-height: 1.7; color: rgba(255,255,255,0.7);
  max-width: 360px; margin: 0 auto;
}
.hero-cta-wrap { margin-top: 40px; }
.btn-line {
  display: inline-flex; align-items: center; gap: 14px;
  padding: 16px 44px;
  border: 1px solid rgba(255,255,255,0.15);
  font-size: 12px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--white);
  position: relative; overflow: hidden;
  transition: color 0.4s, border-color 0.4s;
}
.btn-line::before {
  content: ''; position: absolute; inset: 0;
  background: var(--white);
  transform: translateY(101%);
  transition: transform 0.5s var(--ease-out);
}
.btn-line:hover::before { transform: translateY(0); }
.btn-line:hover { color: var(--navy); border-color: var(--white); }
.btn-line span, .btn-line svg { position: relative; z-index: 1; }
.btn-line svg { width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 1.5; }

/* ═══ MARQUEE ═══ */
.marquee-section {
  border-top: 1px solid var(--border-light);
  border-bottom: 1px solid var(--border-light);
  background: #E2E0DA;
  overflow: hidden;
  padding: 20px 0;
}
.marquee-track {
  display: flex; width: max-content;
  animation: marqueeScroll 35s linear infinite;
}
.marquee-section:hover .marquee-track { animation-play-state: paused; }
.marquee-item {
  font-family: 'Italiana', Georgia, serif;
  font-size: 15px; letter-spacing: 0.06em;
  color: rgba(12,18,32,0.55);
  white-space: nowrap;
  padding: 0 24px;
  display: flex; align-items: center; gap: 24px;
  transition: color 0.3s;
}
.marquee-section:hover .marquee-item { color: rgba(12,18,32,0.70); }
.marquee-dot {
  width: 3px; height: 3px; border-radius: 50%;
  background: rgba(12,18,32,0.35);
  flex-shrink: 0;
}
@keyframes marqueeScroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* ═══ STATS BAR ═══ */
.stats-bar {
  display: grid; grid-template-columns: repeat(4, 1fr);
  border-top: 1px solid var(--border-light);
  border-bottom: 1px solid var(--border-light);
  background: var(--bg-alt);
}
.stat-cell {
  text-align: center; padding: 64px 32px;
  border-right: 1px solid var(--border-light);
}
.stat-cell:last-child { border-right: none; }
.stat-num {
  font-family: 'Makro', Georgia, serif;
  font-size: clamp(44px, 5vw, 72px);
  font-weight: 500; line-height: 1;
  color: var(--text-dark); margin-bottom: 10px;
}
.stat-num .gold { color: var(--gold); }
.stat-desc {
  font-size: 10px; letter-spacing: 0.2em;
  text-transform: uppercase; color: var(--text-body-dark);
}

/* ═══ ABOUT ═══ */
.about {
  display: grid; grid-template-columns: 1fr 1fr;
  min-height: 90vh;
}
.about-img {
  position: relative; overflow: hidden; min-height: 600px;
}
.about-img img {
  position: absolute; inset: 0;
  width: 100%; height: 100%; object-fit: cover;
}
.about-img-reveal {
  position: absolute; inset: 0;
  background: var(--bg);
  transform-origin: right;
  z-index: 2;
}
.about-text {
  display: flex; flex-direction: column; justify-content: center;
  padding: clamp(48px, 8vw, 100px) clamp(32px, 6vw, 80px);
  background: var(--white);
}

/* ═══ GLOBE SECTION ═══ */
.globe-section {
  background: var(--bg);
  padding: clamp(80px, 10vw, 140px) clamp(24px, 5vw, 64px);
  position: relative;
  overflow: hidden;
  border-bottom: 1px solid var(--border-light);
}
.globe-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(40px, 5vw, 80px);
  align-items: center;
  max-width: 1280px;
  margin: 0 auto;
}
.globe-text {
  display: flex; flex-direction: column; justify-content: center;
}
.globe-section .section-title {
  color: var(--text-dark);
  margin-bottom: 20px;
}
.globe-subtitle {
  font-size: 16px; font-weight: 300; line-height: 1.8;
  color: var(--text-body-dark);
  max-width: 440px;
  margin-bottom: 48px;
}
.globe-cities {
  display: flex; flex-direction: column; gap: 20px;
}
.globe-city {
  display: flex; align-items: center; gap: 16px;
  padding-left: 16px;
  border-left: 2px solid var(--gold);
}
.globe-city-name {
  font-family: 'Makro', Georgia, serif;
  font-size: 16px; font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-dark);
}
.globe-city-dot {
  width: 4px; height: 4px; border-radius: 50%;
  background: var(--gold);
  flex-shrink: 0;
  opacity: 0.5;
}
.globe-city-label {
  font-size: 10px; letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--text-body-dark);
  opacity: 0.5;
}
.globe-wrap {
  position: relative;
  width: 100%;
  aspect-ratio: 1;
  max-width: 580px;
  justify-self: center;
}
.globe-canvas {
  width: 100%;
  height: 100%;
}
.label {
  font-size: 10px; font-weight: 500;
  letter-spacing: 0.3em; text-transform: uppercase;
  color: var(--gold);
  display: flex; align-items: center; gap: 16px;
  margin-bottom: 28px;
}
.label::before { content: ''; width: 32px; height: 1px; background: var(--gold); }
.section-title {
  font-family: 'Makro', Georgia, serif;
  font-weight: 500; text-transform: uppercase;
  letter-spacing: 0.02em; line-height: 1.05;
  font-size: clamp(32px, 4.5vw, 60px);
}
.about-text .section-title { color: var(--navy); margin-bottom: 32px; }
.body-text {
  font-size: 17px; font-weight: 300; line-height: 1.8;
  color: #4A5568; max-width: 480px;
}
.body-text + .body-text { margin-top: 20px; }
.about-quote {
  margin-top: 48px; padding-top: 40px;
  border-top: 1px solid rgba(0,0,0,0.08);
}
.about-quote p {
  font-family: 'Makro', Georgia, serif;
  font-size: 20px; font-weight: 500;
  line-height: 1.6; color: var(--navy);
  font-style: italic;
}
.about-quote cite {
  display: block; margin-top: 16px;
  font-style: normal; font-size: 10px;
  letter-spacing: 0.25em; text-transform: uppercase;
  color: var(--gold);
}

/* ═══ BOLT DIVIDER ═══ */
.bolt-divider {
  padding: 80px 0;
  display: flex; justify-content: center;
  background: var(--bg);
}
.bolt-divider svg { width: 60px; height: auto; }
.bolt-divider path {
  fill: none;
  stroke: rgba(184,151,106,0.6);
  stroke-width: 6;
}

/* ═══ VIDEO TEXT ═══ */
.vtext {
  position: relative; height: 100vh;
  overflow: hidden; isolation: isolate;
  background: var(--navy);
}
.vtext video {
  position: absolute; inset: 0;
  width: 100%; height: 100%; object-fit: cover;
}
.vtext-overlay {
  position: absolute; inset: 0;
  background: radial-gradient(ellipse 70% 60% at 50% 50%, rgba(12,18,32,0.10), rgba(12,18,32,0.45));
  z-index: 1;
}
.vtext-mask {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  z-index: 2;
}
.vtext-mask h2 {
  font-family: 'Makro', Georgia, serif;
  font-size: clamp(36px, 8vw, 120px);
  font-weight: 500; text-transform: uppercase;
  color: #fff;
  line-height: 1.05;
  text-align: center;
  letter-spacing: 0.04em;
}
.vtext-sub {
  position: absolute; bottom: 12%; left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  font-size: 11px; font-weight: 500;
  letter-spacing: 0.3em; text-transform: uppercase;
  color: var(--text-dim);
}

/* ═══ SERVICES ═══ */
.svc-slide {
  position: relative; height: 100vh; min-height: 700px;
  overflow: hidden;
  display: flex; align-items: center;
}
.svc-slide img {
  position: absolute; inset: 0;
  width: 100%; height: 100%; object-fit: cover;
}
.svc-slide-overlay {
  position: absolute; inset: 0;
  background: linear-gradient(90deg, rgba(12,18,32,0.60) 0%, rgba(12,18,32,0.25) 55%, transparent 100%);
}
.svc-slide:nth-child(even) .svc-slide-overlay {
  background: linear-gradient(270deg, rgba(12,18,32,0.60) 0%, rgba(12,18,32,0.25) 55%, transparent 100%);
}
.svc-text {
  position: relative; z-index: 2;
  padding: 48px clamp(32px, 6vw, 100px);
  max-width: 560px;
  color: var(--white);
  border-top: 2px solid transparent;
  transition: border-color 0.6s var(--ease-out), transform 0.5s var(--ease-out), background 0.5s;
}
.svc-text::before {
  content: ''; position: absolute; top: 0; left: 0;
  width: 0; height: 2px;
  background: linear-gradient(90deg, rgba(30,60,140,0.8), var(--gold));
  transition: width 0.6s var(--ease-out);
}
.svc-text::after {
  content: ''; position: absolute; top: 0; left: 0; right: 0;
  height: 0; background: linear-gradient(180deg, rgba(184,151,106,0.06), transparent);
  transition: height 0.5s var(--ease-out);
  pointer-events: none;
}
@media (hover: hover) {
  .svc-text:hover { transform: translateY(-4px); }
  .svc-text:hover::before { width: 100%; }
  .svc-text:hover::after { height: 200px; }
  .svc-text:hover h3 { color: rgba(140,170,255,0.9); }
}
.svc-slide:nth-child(even) .svc-text {
  margin-left: auto;
}
.svc-num {
  font-family: 'Makro', Georgia, serif;
  font-size: clamp(60px, 8vw, 100px);
  font-weight: 500;
  color: rgba(255,255,255,0.25);
  line-height: 1; margin-bottom: -8px;
}
.svc-text h3 {
  font-family: 'Makro', Georgia, serif;
  font-size: clamp(28px, 4vw, 52px);
  font-weight: 500; text-transform: uppercase;
  letter-spacing: 0.02em; line-height: 1.1;
  margin-bottom: 24px;
  transition: color 0.4s;
}
.svc-text p {
  font-size: 15px; font-weight: 300; line-height: 1.85;
  color: var(--text-body); max-width: 440px;
}
.svc-link {
  display: inline-flex; align-items: center; gap: 12px;
  margin-top: 36px; font-size: 11px; font-weight: 500;
  letter-spacing: 0.25em; text-transform: uppercase;
  color: var(--gold);
  transition: gap 0.4s var(--ease-out);
}
.svc-link:hover { gap: 20px; }
.svc-link svg { width: 16px; height: 16px; stroke: var(--gold); fill: none; stroke-width: 1.5; }

/* ═══ FLEET GALLERY ═══ */
.fleet { background: var(--bg-alt); }
.fleet-header {
  padding: clamp(60px, 8vw, 100px) clamp(24px, 5vw, 64px) clamp(24px, 3vw, 40px);
}
.fleet-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-auto-rows: 45vh;
  gap: 4px;
  padding: 0 4px 4px;
}
.fleet-item {
  position: relative; overflow: hidden;
}
.fleet-item:nth-child(1) { grid-column: span 2; }
.fleet-item:nth-child(4) { grid-column: span 2; }
.fleet-item:nth-child(5) { grid-column: span 2; }
.fleet-item img, .fleet-item video {
  width: 100%; height: 100%; object-fit: cover;
  transition: transform 1.2s var(--ease-out);
}
.fleet-item video { background: var(--bg-alt); }
@media (hover: hover) {
  .fleet-item:hover img, .fleet-item:hover video { transform: scale(1.03); }
}
.fleet-item-overlay {
  position: absolute; inset: 0;
  background: linear-gradient(180deg, transparent 50%, rgba(12,18,32,0.4));
  opacity: 0; transition: opacity 0.4s; pointer-events: none;
}
.fleet-item:hover .fleet-item-overlay { opacity: 1; }
.fleet-item-label {
  position: absolute; bottom: 20px; left: 20px;
  font-size: 10px; letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--white);
  opacity: 0; transform: translateY(6px);
  transition: all 0.4s var(--ease-out); pointer-events: none;
}
.fleet-item:hover .fleet-item-label { opacity: 1; transform: translateY(0); }

/* ═══ QUOTE ═══ */
.quote-section {
  position: relative; overflow: hidden;
  background: var(--bg);
  padding: clamp(100px, 15vw, 200px) clamp(24px, 8vw, 120px);
  display: flex; align-items: center; justify-content: center;
}
.quote-big-mark {
  position: absolute; top: 10%; left: 50%;
  transform: translateX(-50%);
  font-family: 'Makro', Georgia, serif;
  font-size: clamp(200px, 30vw, 500px);
  color: rgba(12,18,32,0.04);
  line-height: 1; pointer-events: none;
  user-select: none;
}
.quote-inner { max-width: 900px; text-align: center; position: relative; z-index: 1; }
.quote-text {
  font-family: 'Makro', Georgia, serif;
  font-size: clamp(24px, 3.5vw, 44px);
  font-weight: 500; line-height: 1.5;
  color: var(--text-dark);
}
.quote-text .word {
  opacity: 0.08;
  transition: opacity 0.5s;
}
.quote-text .word.lit { opacity: 1; }
.quote-text .word.em { color: var(--gold); font-style: italic; }
.quote-cite {
  text-align: center; margin-top: 40px;
  font-size: 10px; letter-spacing: 0.3em;
  text-transform: uppercase;
  color: var(--gold);
  opacity: 0;
  transition: opacity 0.6s;
}
.quote-cite.vis { opacity: 1; }

/* ═══ CONTACT ═══ */
.contact {
  background: var(--bg-alt);
  padding: clamp(80px, 12vw, 160px) clamp(24px, 5vw, 64px);
}
.contact .container { max-width: 1280px; margin: 0 auto; }
.contact-grid {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 100px; align-items: start;
}
.contact-left .section-title { color: var(--text-dark); margin-bottom: 28px; }
.body-text.dim { color: var(--text-body-dark); }
.contact-items { display: flex; flex-direction: column; gap: 20px; margin-top: 48px; }
.ct-row {
  display: flex; align-items: center; gap: 16px;
  padding: 12px 0 12px 0;
  border-left: 2px solid transparent;
  transition: border-color 0.4s var(--ease-out), padding-left 0.4s var(--ease-out), background 0.4s;
}
.ct-row:hover {
  border-left-color: var(--gold);
  padding-left: 16px;
  background: rgba(12,18,32,0.02);
}
.ct-row svg { width: 20px; height: 20px; min-width: 20px; stroke: var(--gold); fill: none; stroke-width: 1.5; }
.ct-label { font-size: 9px; font-weight: 500; letter-spacing: 0.25em; text-transform: uppercase; color: rgba(12,18,32,0.35); margin-bottom: 2px; }
.ct-value { font-size: 15px; color: var(--text-dark); }
.contact-form { display: flex; flex-direction: column; gap: 20px; }
.form-row { display: flex; gap: 20px; }
.fg { display: flex; flex-direction: column; gap: 8px; flex: 1; }
.fg label { font-size: 9px; font-weight: 500; letter-spacing: 0.25em; text-transform: uppercase; color: rgba(12,18,32,0.35); }
.fg input, .fg textarea, .fg select {
  padding: 16px 20px;
  background: var(--white);
  border: 1px solid var(--border-light);
  color: var(--text-dark); font-family: 'Inter', sans-serif;
  font-size: 14px; font-weight: 300; outline: none;
  transition: border-color 0.3s, background 0.3s;
}
.fg input:focus, .fg textarea:focus, .fg select:focus {
  border-color: var(--gold);
  background: rgba(184,151,106,0.03);
}
.fg input::placeholder, .fg textarea::placeholder { color: rgba(12,18,32,0.18); }
.fg textarea { resize: vertical; min-height: 120px; }
.fg select { -webkit-appearance: none; cursor: pointer; }
.fg select option { background: var(--white); }
.btn-gold {
  align-self: flex-start;
  padding: 16px 44px;
  background: var(--gold); border: none;
  color: var(--navy); font-family: 'Inter', sans-serif;
  font-size: 12px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  cursor: pointer;
  transition: transform 0.3s var(--ease-out), box-shadow 0.3s;
}
.btn-gold:hover { transform: translateY(-2px); box-shadow: 0 16px 48px rgba(184,151,106,0.2); }

/* ═══ FOOTER ═══ */
.footer {
  background: var(--bg-alt);
  border-top: 1px solid var(--border-light);
  padding: 40px 64px;
  display: flex; align-items: center; justify-content: space-between;
}
.footer-logo { display: flex; align-items: center; gap: 12px; }
.footer-logo svg { height: 18px; }
.footer-logo svg path { fill: rgba(12,18,32,0.25); }
.footer-logo span { font-size: 10px; font-weight: 500; letter-spacing: 0.3em; text-transform: uppercase; color: rgba(12,18,32,0.20); }
.footer-offices { display: flex; gap: 32px; font-size: 10px; letter-spacing: 0.15em; text-transform: uppercase; color: rgba(12,18,32,0.15); }
.footer-copy { font-size: 10px; color: rgba(12,18,32,0.12); }

/* ═══ REVEAL UTILITY ═══ */
.reveal {
  opacity: 0; transform: translateY(30px);
  transition: opacity 0.9s var(--ease-out), transform 0.9s var(--ease-out);
}
.reveal.vis { opacity: 1; transform: translateY(0); }
/* Stagger delays for grouped elements */
.stat-cell.reveal:nth-child(2) { transition-delay: 0.1s; }
.stat-cell.reveal:nth-child(3) { transition-delay: 0.2s; }
.stat-cell.reveal:nth-child(4) { transition-delay: 0.3s; }
.fleet-item.reveal:nth-child(2) { transition-delay: 0.08s; }
.fleet-item.reveal:nth-child(3) { transition-delay: 0.16s; }
.fleet-item.reveal:nth-child(4) { transition-delay: 0.24s; }
.fleet-item.reveal:nth-child(5) { transition-delay: 0.32s; }
.fleet-item.reveal:nth-child(6) { transition-delay: 0.40s; }

/* ═══ RESPONSIVE ═══ */
@media (max-width: 1024px) {
  .nav { padding: 20px 24px; }
  .nav.scrolled { padding: 14px 24px; }
  .nav-links { display: none; }
  .mobile-toggle { display: block; }
  .about { grid-template-columns: 1fr; }
  .about-img { min-height: 50vh; }
  .about-text { padding: 64px 32px; }
  .globe-layout { grid-template-columns: 1fr; text-align: center; }
  .globe-text .label { justify-content: center; }
  .globe-wrap { max-width: 340px; }
  .globe-cities { align-items: center; }
  .globe-subtitle { margin-left: auto; margin-right: auto; }
  .svc-slide { min-height: auto; height: auto; padding: 80px 0; }
  .svc-slide-overlay { background: rgba(12,18,32,0.50) !important; }
  .svc-text { max-width: 100%; margin: 0 !important; padding: 0 32px; }
  .stats-bar { grid-template-columns: repeat(2, 1fr); }
  .stat-cell { border-bottom: 1px solid var(--border-light); }
  .fleet-grid { grid-template-columns: 1fr 1fr; grid-auto-rows: 35vh; }
  .fleet-item:nth-child(1),
  .fleet-item:nth-child(4),
  .fleet-item:nth-child(5) { grid-column: span 2; }
  .contact-grid { grid-template-columns: 1fr; gap: 48px; }
  .footer { padding: 32px 24px; flex-direction: column; gap: 20px; text-align: center; }
  .footer-offices { justify-content: center; }
  .mobile-close { right: 24px; }
}
@media (max-width: 640px) {
  .hero h1 { font-size: clamp(32px, 11vw, 52px); }
  .fleet-grid { grid-template-columns: 1fr; grid-auto-rows: 40vh; }
  .fleet-item:nth-child(1),
  .fleet-item:nth-child(4),
  .fleet-item:nth-child(5) { grid-column: span 1; }
  .form-row { flex-direction: column; }
  .btn-line, .btn-gold { width: 100%; justify-content: center; text-align: center; }
  .hero-cta-wrap { padding: 0 20px; }
}
</style>
</head>
<body>

<!-- ═══ FLOATING GRADIENT MESH ═══ -->
<div class="gradient-mesh" aria-hidden="true">
  <div class="mesh-orb mesh-orb-1"></div>
  <div class="mesh-orb mesh-orb-2"></div>
  <div class="mesh-orb mesh-orb-3"></div>
</div>

<!-- ═══ FILM GRAIN ═══ -->
<div class="film-grain" aria-hidden="true"></div>

<!-- ═══ CUSTOM CURSOR ═══ -->
<div class="cursor-dot" id="cursorDot"></div>
<div class="cursor-ring" id="cursorRing"></div>

<!-- ═══ PRELOADER ═══ -->
<div class="preloader" id="preloader">
  <svg class="pre-bolt" viewBox="0 0 362 448" fill="none">
    <path id="boltP1" d="M200.264 1.18837L0.61804 225.27C0.262735 225.669 0.0664062 226.185 0.0664062 226.719V227.658V330.356C0.0664062 331.558 1.04122 332.533 2.24371 332.533H153.334C154.536 332.533 155.511 331.558 155.511 330.356V258.665C155.511 257.463 154.536 256.488 153.334 256.488H79.9366C78.042 256.488 77.0514 254.236 78.3318 252.839L203.494 116.334C203.862 115.933 204.067 115.408 204.067 114.863V2.63675C204.067 0.635919 201.595 -0.305547 200.264 1.18837Z"/>
    <path id="boltP2" d="M161.803 446.69L361.449 222.608C361.804 222.21 362 221.694 362 221.16V220.221V117.523C362 116.32 361.025 115.346 359.823 115.346H208.733C207.531 115.346 206.556 116.32 206.556 117.523V189.214C206.556 190.416 207.531 191.391 208.733 191.391H282.13C284.025 191.391 285.015 193.643 283.735 195.04L158.572 331.545C158.204 331.946 158 332.471 158 333.016V445.242C158 447.243 160.472 448.184 161.803 446.69Z"/>
  </svg>
  <div class="pre-text" id="preText">Spark Aviation</div>
  <div class="pre-bar-wrap" id="preBarWrap"><div class="pre-bar" id="preBar"></div></div>
  <div class="pre-pct" id="prePct">0%</div>
</div>

<!-- ═══ NAV ═══ -->
<nav class="nav" id="nav">
  <a href="#" class="nav-logo">
    <svg viewBox="0 0 362 448" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M200.264 1.18837L0.61804 225.27C0.262735 225.669 0.0664062 226.185 0.0664062 226.719V227.658V330.356C0.0664062 331.558 1.04122 332.533 2.24371 332.533H153.334C154.536 332.533 155.511 331.558 155.511 330.356V258.665C155.511 257.463 154.536 256.488 153.334 256.488H79.9366C78.042 256.488 77.0514 254.236 78.3318 252.839L203.494 116.334C203.862 115.933 204.067 115.408 204.067 114.863V2.63675C204.067 0.635919 201.595 -0.305547 200.264 1.18837ZM161.803 446.69L361.449 222.608C361.804 222.21 362 221.694 362 221.16V220.221V117.523C362 116.32 361.025 115.346 359.823 115.346H208.733C207.531 115.346 206.556 116.32 206.556 117.523V189.214C206.556 190.416 207.531 191.391 208.733 191.391H282.13C284.025 191.391 285.015 193.643 283.735 195.04L158.572 331.545C158.204 331.946 158 332.471 158 333.016V445.242C158 447.243 160.472 448.184 161.803 446.69Z" fill="white"/></svg>
    <span class="nav-logo-text">Spark Aviation</span>
  </a>
  <ul class="nav-links">
    <li><a href="#about">About</a></li>
    <li><a href="#services">Services</a></li>
    <li><a href="#fleet">Fleet</a></li>
    <li><a href="#contact" class="nav-cta">Inquire</a></li>
  </ul>
  <button class="mobile-toggle" id="menuBtn" aria-label="Menu">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5"><line x1="4" y1="8" x2="20" y2="8"/><line x1="4" y1="16" x2="20" y2="16"/></svg>
  </button>
</nav>
<div class="mobile-menu" id="mobileMenu">
  <button class="mobile-close" id="menuClose" aria-label="Close">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5"><line x1="6" y1="6" x2="18" y2="18"/><line x1="18" y1="6" x2="6" y2="18"/></svg>
  </button>
  <a href="#about" class="mob-link">About</a>
  <a href="#services" class="mob-link">Services</a>
  <a href="#fleet" class="mob-link">Fleet</a>
  <a href="#contact" class="mob-link">Contact</a>
</div>

<!-- ═══ HERO ═══ -->
<section class="hero" id="hero">
  <div class="hero-media" id="heroMedia">
    <video id="heroVid" autoplay muted playsinline poster="assets/branding/PNG/Spark_Rifle-13.jpg">
      <source src="assets/branding/Videos/hero.mp4" type="video/mp4">
    </video>
    <img src="assets/branding/PNG/Spark_Rifle-13.jpg" alt="" id="heroPoster">
  </div>
  <div class="hero-overlay"></div>
  <div class="hero-blur-wrap" aria-hidden="true">
    <div class="hero-blur-layer"></div>
    <div class="hero-blur-layer"></div>
    <div class="hero-blur-layer"></div>
    <div class="hero-blur-layer"></div>
    <div class="hero-blur-layer"></div>
    <div class="hero-blur-layer"></div>
  </div>
  <div class="hero-content" id="heroContent">
    <div class="hero-icon" id="heroIcon">
      <svg viewBox="0 0 362 448" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M200.264 1.18837L0.61804 225.27C0.262735 225.669 0.0664062 226.185 0.0664062 226.719V227.658V330.356C0.0664062 331.558 1.04122 332.533 2.24371 332.533H153.334C154.536 332.533 155.511 331.558 155.511 330.356V258.665C155.511 257.463 154.536 256.488 153.334 256.488H79.9366C78.042 256.488 77.0514 254.236 78.3318 252.839L203.494 116.334C203.862 115.933 204.067 115.408 204.067 114.863V2.63675C204.067 0.635919 201.595 -0.305547 200.264 1.18837ZM161.803 446.69L361.449 222.608C361.804 222.21 362 221.694 362 221.16V220.221V117.523C362 116.32 361.025 115.346 359.823 115.346H208.733C207.531 115.346 206.556 116.32 206.556 117.523V189.214C206.556 190.416 207.531 191.391 208.733 191.391H282.13C284.025 191.391 285.015 193.643 283.735 195.04L158.572 331.545C158.204 331.946 158 332.471 158 333.016V445.242C158 447.243 160.472 448.184 161.803 446.69Z" fill="rgba(255,255,255,0.7)"/></svg>
    </div>
    <p class="hero-label" id="heroLabel">Aircraft Sales &middot; Acquisition &middot; Management</p>
    <h1>
      <span class="hero-line"><span class="hero-line-inner" id="hl1">Elevating</span></span>
      <span class="hero-line"><span class="hero-line-inner" id="hl2">Excellence</span></span>
    </h1>
    <div class="hero-divider" id="heroDiv"></div>
    <p class="hero-sub" id="heroSub">Founded by international aviation veteran Marcelo Borin<br>with 30 years of elite global experience.</p>
    <div class="hero-cta-wrap" id="heroCta">
      <a href="#contact" class="btn-line"><span>Inquire Now</span><svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></a>
    </div>
  </div>
</section>

<!-- ═══ MARQUEE ═══ -->
<div class="marquee-section">
  <div class="marquee-track" id="marqueeTrack">
    <div class="marquee-item">Gulfstream G700<span class="marquee-dot"></span></div>
    <div class="marquee-item">Bombardier Global 7500<span class="marquee-dot"></span></div>
    <div class="marquee-item">Dassault Falcon 8X<span class="marquee-dot"></span></div>
    <div class="marquee-item">Embraer Praetor 600<span class="marquee-dot"></span></div>
    <div class="marquee-item">Cessna Citation Longitude<span class="marquee-dot"></span></div>
    <div class="marquee-item">Pilatus PC-24<span class="marquee-dot"></span></div>
    <div class="marquee-item">Boeing BBJ<span class="marquee-dot"></span></div>
    <div class="marquee-item">Hawker 4000<span class="marquee-dot"></span></div>
    <!-- duplicate for seamless loop -->
    <div class="marquee-item">Gulfstream G700<span class="marquee-dot"></span></div>
    <div class="marquee-item">Bombardier Global 7500<span class="marquee-dot"></span></div>
    <div class="marquee-item">Dassault Falcon 8X<span class="marquee-dot"></span></div>
    <div class="marquee-item">Embraer Praetor 600<span class="marquee-dot"></span></div>
    <div class="marquee-item">Cessna Citation Longitude<span class="marquee-dot"></span></div>
    <div class="marquee-item">Pilatus PC-24<span class="marquee-dot"></span></div>
    <div class="marquee-item">Boeing BBJ<span class="marquee-dot"></span></div>
    <div class="marquee-item">Hawker 4000<span class="marquee-dot"></span></div>
  </div>
</div>

<!-- ═══ STATS ═══ -->
<div class="stats-bar" id="statsBar">
  <div class="stat-cell reveal"><div class="stat-num" data-count="30" data-suffix="+">0<span class="gold">+</span></div><div class="stat-desc">Years of Excellence</div></div>
  <div class="stat-cell reveal"><div class="stat-num" data-count="500" data-suffix="+">0<span class="gold">+</span></div><div class="stat-desc">Aircraft Transactions</div></div>
  <div class="stat-cell reveal"><div class="stat-num" data-count="45" data-suffix="+">0<span class="gold">+</span></div><div class="stat-desc">Countries Served</div></div>
  <div class="stat-cell reveal"><div class="stat-num" data-count="2" data-prefix="$" data-suffix="B+">$0<span class="gold">B+</span></div><div class="stat-desc">In Transactions</div></div>
</div>

<!-- ═══ ABOUT ═══ -->
<section id="about">
  <div class="about">
    <div class="about-img">
      <img src="assets/branding/PNG/NBAA_Spark-3.jpg" alt="Engine turbine blades detail">
      <div class="about-img-reveal" id="aboutReveal"></div>
    </div>
    <div class="about-text">
      <div class="label reveal">The Spark Story</div>
      <h2 class="section-title reveal">Three Decades of<br>Aviation Excellence</h2>
      <p class="body-text reveal">Spark Aviation was born from a pilot's conviction that the aircraft transaction experience could be better — more personal, more informed, and built on genuine relationships rather than transactional pressure.</p>
      <p class="body-text reveal">Founded by Marcelo Borin, a Brazilian-American aviation veteran who spent three decades in the cockpit — including flying U.S. Presidents — Spark brings the precision of a pilot and the care of a trusted advisor to every deal.</p>
      <div class="about-quote reveal">
        <p>"I knew how to serve, how to fly, and how to connect with people. That's what this company is built on."</p>
        <cite>Marcelo Borin — Founder</cite>
      </div>
    </div>
  </div>
</section>

<!-- ═══ GLOBE — GLOBAL REACH ═══ -->
<section class="globe-section">
  <div class="globe-layout">
    <div class="globe-text">
      <div class="label reveal">Global Presence</div>
      <h2 class="section-title reveal">Worldwide<br>Reach</h2>
      <p class="globe-subtitle reveal">Three decades of trusted relationships across borders, connecting buyers and sellers on every continent.</p>
      <div class="globe-cities reveal">
        <div class="globe-city"><div><div class="globe-city-name">Boca Raton</div><div class="globe-city-label">Florida, USA</div></div></div>
        <div class="globe-city"><div><div class="globe-city-name">São Paulo</div><div class="globe-city-label">Brazil</div></div></div>
        <div class="globe-city"><div><div class="globe-city-name">Dallas</div><div class="globe-city-label">Texas, USA</div></div></div>
      </div>
    </div>
    <div class="globe-wrap reveal">
      <canvas id="globeCanvas" class="globe-canvas" width="1000" height="1000"></canvas>
    </div>
  </div>
</section>

<!-- ═══ BOLT DIVIDER ═══ -->
<div class="bolt-divider">
  <svg viewBox="0 0 362 448" fill="none">
    <path id="boltDraw" d="M200.264 1.18837L0.61804 225.27C0.262735 225.669 0.0664062 226.185 0.0664062 226.719V227.658V330.356C0.0664062 331.558 1.04122 332.533 2.24371 332.533H153.334C154.536 332.533 155.511 331.558 155.511 330.356V258.665C155.511 257.463 154.536 256.488 153.334 256.488H79.9366C78.042 256.488 77.0514 254.236 78.3318 252.839L203.494 116.334C203.862 115.933 204.067 115.408 204.067 114.863V2.63675C204.067 0.635919 201.595 -0.305547 200.264 1.18837ZM161.803 446.69L361.449 222.608C361.804 222.21 362 221.694 362 221.16V220.221V117.523C362 116.32 361.025 115.346 359.823 115.346H208.733C207.531 115.346 206.556 116.32 206.556 117.523V189.214C206.556 190.416 207.531 191.391 208.733 191.391H282.13C284.025 191.391 285.015 193.643 283.735 195.04L158.572 331.545C158.204 331.946 158 332.471 158 333.016V445.242C158 447.243 160.472 448.184 161.803 446.69Z"/>
  </svg>
</div>

<!-- ═══ VIDEO TEXT ═══ -->
<div class="vtext" id="vtext">
  <video id="vtextVid" muted playsinline preload="auto">
    <source src="assets/branding/Videos/clip3.mp4" type="video/mp4">
  </video>
  <div class="vtext-overlay"></div>
  <div class="vtext-mask">
    <h2><span>Where Precision</span><br><span>Meets Passion</span></h2>
  </div>
  <div class="vtext-sub">Spark Aviation</div>
</div>

<!-- ═══ SERVICES ═══ -->
<section id="services">
  <div class="svc-slide">
    <img src="assets/branding/PNG/Spark_Rifle-28.jpg" alt="Luxury leather cabin seats">
    <div class="svc-slide-overlay"></div>
    <div class="svc-text">
      <div class="svc-num reveal">01</div>
      <h3 class="reveal">Aircraft<br>Sales</h3>
      <p class="reveal">We specialize in discreet, high-value jet transactions across the globe. Our curated network and deep market intelligence ensure optimal value and swift closings, whether you're upgrading, transitioning, or exiting ownership.</p>
      <a href="#contact" class="svc-link reveal">Inquire <svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></a>
    </div>
  </div>
  <div class="svc-slide">
    <img src="assets/branding/PNG/Spark_Rifle-16.jpg" alt="Jet front-on tarmac detail">
    <div class="svc-slide-overlay"></div>
    <div class="svc-text">
      <div class="svc-num reveal">02</div>
      <h3 class="reveal">Aircraft<br>Acquisition</h3>
      <p class="reveal">From first-time buyers to seasoned owners, we manage every step — from sourcing and negotiation to pre-purchase inspection and entry into service. You define the mission, we deliver the machine.</p>
      <a href="#contact" class="svc-link reveal">Inquire <svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></a>
    </div>
  </div>
  <div class="svc-slide">
    <img src="assets/branding/PNG/NBAA_Spark-20.jpg" alt="Cockpit controls close-up">
    <div class="svc-slide-overlay"></div>
    <div class="svc-text">
      <div class="svc-num reveal">03</div>
      <h3 class="reveal">Aircraft<br>Management</h3>
      <p class="reveal">Owning a jet should be a privilege — not a burden. Our management services are personalized, transparent, and designed to protect your investment while keeping you flight-ready 24/7.</p>
      <a href="#contact" class="svc-link reveal">Inquire <svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></a>
    </div>
  </div>
</section>

<!-- ═══ FLEET ═══ -->
<section id="fleet" class="fleet">
  <div class="fleet-header"><div class="container"><div class="label reveal">The Fleet</div></div></div>
  <div class="fleet-grid">
    <div class="fleet-item reveal"><img src="assets/branding/PNG/NBAA_Spark-6.jpg" alt="Engine nacelle detail" loading="lazy"><div class="fleet-item-overlay"></div><span class="fleet-item-label">Engineering</span></div>
    <div class="fleet-item reveal"><video autoplay muted playsinline><source src="assets/branding/Videos/clip1.mp4" type="video/mp4"></video><div class="fleet-item-overlay"></div><span class="fleet-item-label">In Motion</span></div>
    <div class="fleet-item reveal"><img src="assets/branding/PNG/NBAA_Spark-18.jpg" alt="Landing gear mechanism" loading="lazy"><div class="fleet-item-overlay"></div><span class="fleet-item-label">Precision</span></div>
    <div class="fleet-item reveal"><img src="assets/branding/PNG/Spark_Rifle-29.jpg" alt="Chrome landing gear detail" loading="lazy"><div class="fleet-item-overlay"></div><span class="fleet-item-label">Detail</span></div>
    <div class="fleet-item reveal"><video autoplay muted playsinline><source src="assets/branding/Videos/clip5.mp4" type="video/mp4"></video><div class="fleet-item-overlay"></div><span class="fleet-item-label">Departure</span></div>
    <div class="fleet-item reveal"><img src="assets/branding/PNG/NBAA_Spark-15.jpg" alt="Fuel port detail" loading="lazy"><div class="fleet-item-overlay"></div><span class="fleet-item-label">Craft</span></div>
  </div>
</section>

<!-- ═══ QUOTE ═══ -->
<section class="quote-section">
  <div class="quote-big-mark" aria-hidden="true">&ldquo;</div>
  <div class="quote-inner">
    <p class="quote-text" id="quoteText">I came to this country not knowing the language, but I knew how to serve, how to fly, and how to connect with people. That's what this company is built on: relationships, integrity, and a love for |aviation.|</p>
    <div class="quote-cite" id="quoteCite">Marcelo Borin — Founder, Spark Aviation</div>
  </div>
</section>

<!-- ═══ CONTACT ═══ -->
<section id="contact" class="contact">
  <div class="container">
    <div class="contact-grid">
      <div class="contact-left">
        <div class="label reveal">Get in Touch</div>
        <h2 class="section-title reveal">Let's Talk<br>Aviation</h2>
        <p class="body-text dim reveal">Ready to buy, sell, or manage your aircraft? Reach out directly to Marcelo and the team.</p>
        <div class="contact-items reveal">
          <div class="ct-row"><svg viewBox="0 0 24 24"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"/></svg><div><div class="ct-label">Phone</div><div class="ct-value">+1 (954) 994-4466</div></div></div>
          <div class="ct-row"><svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg><div><div class="ct-label">Email</div><div class="ct-value">marcelo@sparkaviation.com</div></div></div>
          <div class="ct-row"><svg viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg><div><div class="ct-label">Offices</div><div class="ct-value">Boca Raton &middot; São Paulo &middot; Dallas</div></div></div>
        </div>
      </div>
      <form class="contact-form reveal" onsubmit="event.preventDefault();this.querySelector('.btn-gold').textContent='Message Sent';this.querySelector('.btn-gold').style.background='#2d6b4a';this.querySelector('.btn-gold').style.color='#fff';">
        <div class="form-row"><div class="fg"><label>First Name</label><input type="text" placeholder="John"></div><div class="fg"><label>Last Name</label><input type="text" placeholder="Smith"></div></div>
        <div class="fg"><label>Email</label><input type="email" placeholder="john@example.com"></div>
        <div class="fg"><label>Interest</label><select><option value="">Select a service...</option><option>Aircraft Sales</option><option>Aircraft Acquisition</option><option>Aircraft Management</option><option>General Inquiry</option></select></div>
        <div class="fg"><label>Message</label><textarea placeholder="Tell us about your aviation needs..."></textarea></div>
        <button type="submit" class="btn-gold">Send Message</button>
      </form>
    </div>
  </div>
</section>

<!-- ═══ FOOTER ═══ -->
<footer class="footer">
  <div class="footer-logo">
    <svg viewBox="0 0 362 448" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M200.264 1.18837L0.61804 225.27C0.262735 225.669 0.0664062 226.185 0.0664062 226.719V227.658V330.356C0.0664062 331.558 1.04122 332.533 2.24371 332.533H153.334C154.536 332.533 155.511 331.558 155.511 330.356V258.665C155.511 257.463 154.536 256.488 153.334 256.488H79.9366C78.042 256.488 77.0514 254.236 78.3318 252.839L203.494 116.334C203.862 115.933 204.067 115.408 204.067 114.863V2.63675C204.067 0.635919 201.595 -0.305547 200.264 1.18837ZM161.803 446.69L361.449 222.608C361.804 222.21 362 221.694 362 221.16V220.221V117.523C362 116.32 361.025 115.346 359.823 115.346H208.733C207.531 115.346 206.556 116.32 206.556 117.523V189.214C206.556 190.416 207.531 191.391 208.733 191.391H282.13C284.025 191.391 285.015 193.643 283.735 195.04L158.572 331.545C158.204 331.946 158 332.471 158 333.016V445.242C158 447.243 160.472 448.184 161.803 446.69Z" fill="rgba(12,18,32,0.25)"/></svg>
    <span>Spark Aviation</span>
  </div>
  <div class="footer-offices"><span>Boca Raton</span><span>São Paulo</span><span>Dallas</span></div>
  <div class="footer-copy">&copy; 2026 Spark Aviation. All rights reserved.</div>
</footer>

<script>
gsap.registerPlugin(ScrollTrigger);

// ═══ CUSTOM CURSOR ═══
const dot = document.getElementById('cursorDot');
const ring = document.getElementById('cursorRing');
let mouseX = 0, mouseY = 0, ringX = 0, ringY = 0;
if (window.innerWidth > 1024) {
  document.addEventListener('mousemove', e => { mouseX = e.clientX; mouseY = e.clientY; dot.style.transform = `translate(${mouseX - 10}px, ${mouseY - 10}px)`; });
  (function cursorLoop() {
    ringX += (mouseX - ringX) * 0.08;
    ringY += (mouseY - ringY) * 0.08;
    const rSize = ring.classList.contains('hover') ? 40 : 20;
    ring.style.transform = `translate(${ringX - rSize}px, ${ringY - rSize}px)`;
    requestAnimationFrame(cursorLoop);
  })();
  document.querySelectorAll('a, button, .btn-line, .btn-gold, .nav-cta, .svc-link, .fleet-item, .svc-text').forEach(el => {
    el.addEventListener('mouseenter', () => { ring.classList.add('hover'); dot.classList.add('hover'); });
    el.addEventListener('mouseleave', () => { ring.classList.remove('hover'); dot.classList.remove('hover'); });
  });
}

// ═══ PRELOADER — BOLT DRAWS + LOADING BAR + CLIP-PATH WIPE ═══
const p1 = document.getElementById('boltP1');
const p2 = document.getElementById('boltP2');
const l1 = p1.getTotalLength();
const l2 = p2.getTotalLength();
gsap.set([p1, p2], { strokeDasharray: i => [l1, l2][i], strokeDashoffset: i => [l1, l2][i] });

const preBar = document.getElementById('preBar');
const prePct = document.getElementById('prePct');
const preloader = document.getElementById('preloader');
let loadPct = 0;

const preTl = gsap.timeline({
  onComplete: () => {
    gsap.to(preloader, {
      clipPath: 'inset(0 0 100% 0)', duration: 0.8, ease: 'expo.inOut',
      onComplete: () => { preloader.style.display = 'none'; }
    });
    document.getElementById('nav').classList.add('show');
    heroEntrance();
  }
});
preTl
  .to('#preText', { opacity: 1, duration: 0.4 }, 0)
  .to('#preBarWrap', { opacity: 1, duration: 0.3 }, 0.2)
  .to('#prePct', { opacity: 1, duration: 0.3 }, 0.2)
  .to(p1, { strokeDashoffset: 0, duration: 1.2, ease: 'power2.inOut' }, 0)
  .to(p2, { strokeDashoffset: 0, duration: 1.2, ease: 'power2.inOut' }, 0.15)
  .to({ v: 0 }, { v: 100, duration: 2.2, ease: 'power1.inOut',
    onUpdate: function() {
      loadPct = Math.round(this.targets()[0].v);
      preBar.style.width = loadPct + '%';
      prePct.textContent = loadPct + '%';
    }
  }, 0)
  .to([p1, p2], { fill: 'rgba(12,18,32,0.85)', duration: 0.4, ease: 'power1.in' }, '-=0.5')
  .to('.pre-bolt', { scale: 30, opacity: 0, duration: 0.8, ease: 'expo.in' }, '-=0.2')
  .to(['#preText', '#preBarWrap', '#prePct'], { opacity: 0, duration: 0.3 }, '-=0.6');

// ═══ HERO ENTRANCE ═══
function heroEntrance() {
  const hTl = gsap.timeline();
  hTl
    .from('#heroIcon', { opacity: 0, y: 20, duration: 0.8, ease: 'expo.out' })
    .from('#heroLabel', { opacity: 0, y: 15, duration: 0.7, ease: 'expo.out' }, '-=0.4')
    .to('#hl1', { y: 0, duration: 1, ease: 'expo.out' }, '-=0.4')
    .to('#hl2', { y: 0, duration: 1, ease: 'expo.out' }, '-=0.7')
    .to('#heroDiv', { scaleX: 1, duration: 0.7, ease: 'expo.out' }, '-=0.4')
    .from('#heroSub', { opacity: 0, y: 15, duration: 0.7, ease: 'expo.out' }, '-=0.3')
    .from('#heroCta', { opacity: 0, y: 15, duration: 0.7, ease: 'expo.out' }, '-=0.3');
}

// ═══ HERO PARALLAX — video moves slower + zoom-out ═══
gsap.to('#heroMedia', {
  y: 200, scale: 1.0, ease: 'none',
  scrollTrigger: { trigger: '.hero', start: 'top top', end: 'bottom top', scrub: true }
});

// Hero scroll departure — content floats up as you scroll away
gsap.to('#heroContent', {
  y: -120, opacity: 0, ease: 'none',
  scrollTrigger: { trigger: '.hero', start: 'top top', end: 'bottom top', scrub: true }
});

// ═══ NAV SCROLL ═══
ScrollTrigger.create({
  start: 80,
  onUpdate: self => document.getElementById('nav').classList.toggle('scrolled', self.progress > 0)
});

// ═══ ANIMATED STAT COUNTERS ═══
let statsAnimated = false;
const statsObs = new IntersectionObserver(entries => {
  if (entries[0].isIntersecting && !statsAnimated) {
    statsAnimated = true;
    document.querySelectorAll('.stat-num[data-count]').forEach(el => {
      const target = parseInt(el.dataset.count);
      const prefix = el.dataset.prefix || '';
      const suffix = el.dataset.suffix || '';
      const duration = 2500;
      const start = performance.now();
      function tick(now) {
        const elapsed = now - start;
        const p = Math.min(elapsed / duration, 1);
        const eased = 1 - Math.pow(1 - p, 4); // quartic ease-out
        const current = Math.round(eased * target);
        el.innerHTML = prefix + current + '<span class="gold">' + suffix + '</span>';
        if (p < 1) requestAnimationFrame(tick);
      }
      requestAnimationFrame(tick);
    });
    statsObs.disconnect();
  }
}, { threshold: 0.1 });
statsObs.observe(document.getElementById('statsBar'));

// ═══ ABOUT IMAGE REVEAL (wipe) ═══
gsap.to('#aboutReveal', {
  scaleX: 0, duration: 1.2, ease: 'expo.inOut',
  scrollTrigger: { trigger: '#about', start: 'top 60%', toggleActions: 'play none none none' }
});

// ═══ BOLT DIVIDER — DRAW ON SCROLL ═══
const boltDraw = document.getElementById('boltDraw');
if (boltDraw) {
  const bLen = boltDraw.getTotalLength();
  gsap.set(boltDraw, { strokeDasharray: bLen, strokeDashoffset: bLen });
  gsap.to(boltDraw, {
    strokeDashoffset: 0, ease: 'none',
    scrollTrigger: { trigger: '.bolt-divider', start: 'top 80%', end: 'bottom 20%', scrub: true }
  });
}

// ═══ VIDEO TEXT — SCALE IN ═══
gsap.from('.vtext-mask h2', {
  scale: 0.7, opacity: 0, duration: 1.2, ease: 'expo.out',
  scrollTrigger: { trigger: '.vtext', start: 'top 70%', toggleActions: 'play none none none' }
});
gsap.from('.vtext-sub', {
  opacity: 0, y: 20, duration: 0.8, ease: 'expo.out',
  scrollTrigger: { trigger: '.vtext', start: 'top 50%', toggleActions: 'play none none none' }
});

// ═══ SERVICE SLIDES — CLIP-PATH REVEALS ═══
document.querySelectorAll('.svc-slide').forEach((slide, i) => {
  const dir = i % 2 === 0 ? 'inset(0 100% 0 0)' : 'inset(0 0 0 100%)';
  gsap.fromTo(slide.querySelector('img'), {
    clipPath: dir
  }, {
    clipPath: 'inset(0 0% 0 0%)',
    duration: 1.4,
    ease: 'expo.inOut',
    scrollTrigger: { trigger: slide, start: 'top 70%', toggleActions: 'play none none none' }
  });
});

// ═══ QUOTE — AUTO TYPE ON ENTER ═══
const quoteEl = document.getElementById('quoteText');
const rawText = quoteEl.textContent.trim();
quoteEl.innerHTML = rawText.split(' ').map(w => {
  if (w.startsWith('|') && w.endsWith('|')) {
    return `<span class="word em">${w.replace(/\|/g, '')}</span>`;
  }
  if (w.startsWith('|')) return `<span class="word em">${w.replace(/\|/g, '')}`;
  if (w.endsWith('|')) return `${w.replace(/\|/g, '')}</span>`;
  return `<span class="word">${w}</span>`;
}).join(' ');

const words = quoteEl.querySelectorAll('.word');
const quoteCite = document.getElementById('quoteCite');
let quoteStarted = false;
const quoteObs = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting && !quoteStarted) {
      quoteStarted = true;
      words.forEach((w, i) => {
        setTimeout(() => w.classList.add('lit'), i * 80);
      });
      setTimeout(() => quoteCite.classList.add('vis'), words.length * 80 + 300);
      quoteObs.disconnect();
    }
  });
}, { threshold: 0.3 });
quoteObs.observe(document.querySelector('.quote-section'));

// ═══ SCROLL REVEALS ═══
const revEls = document.querySelectorAll('.reveal');
const revObs = new IntersectionObserver(entries => {
  entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('vis'); revObs.unobserve(e.target); } });
}, { threshold: 0.1 });
revEls.forEach(el => revObs.observe(el));

// ═══ SMOOTH ANCHORS ═══
document.querySelectorAll('a[href^="#"]').forEach(a => {
  a.addEventListener('click', e => {
    e.preventDefault();
    const t = document.querySelector(a.getAttribute('href'));
    if (t) t.scrollIntoView({ behavior: 'smooth' });
    document.getElementById('mobileMenu').classList.remove('open');
  });
});

// ═══ MOBILE MENU ═══
document.getElementById('menuBtn').addEventListener('click', () => document.getElementById('mobileMenu').classList.add('open'));
document.getElementById('menuClose').addEventListener('click', () => document.getElementById('mobileMenu').classList.remove('open'));
document.querySelectorAll('.mob-link').forEach(a => a.addEventListener('click', () => document.getElementById('mobileMenu').classList.remove('open')));

// ═══ VIDEO ═══
const hv = document.getElementById('heroVid');
const hp = document.getElementById('heroPoster');
if (hv) {
  hv.loop = false;
  hv.addEventListener('playing', () => hp.style.display = 'none');
  hv.addEventListener('error', () => hv.style.display = 'none');
}
// Fleet videos — play once and freeze on last frame
document.querySelectorAll('.fleet-item video').forEach(v => {
  v.muted = true; v.playsInline = true;
  v.loop = false;
  v.play().catch(() => {});
});
// Vtext video — only starts when scrolled into view
const vtextVid = document.getElementById('vtextVid');
if (vtextVid) {
  vtextVid.loop = false;
  const vtextObs = new IntersectionObserver(entries => {
    if (entries[0].isIntersecting) {
      vtextVid.play().catch(() => {});
      vtextObs.disconnect();
    }
  }, { threshold: 0.7 });
  vtextObs.observe(document.getElementById('vtext'));
}

// ═══ ROTATING DOTTED GLOBE ═══
(function() {
  const canvas = document.getElementById('globeCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const w = canvas.width, h = canvas.height;
  const R = w * 0.45;
  const cx = w / 2, cy = h / 2;
  const projection = d3.geoOrthographic()
    .scale(R)
    .translate([cx, cy])
    .clipAngle(90);
  const path = d3.geoPath(projection, ctx);
  const graticule = d3.geoGraticule().step([20, 20])();
  let landDots = [];
  let oceanDots = [];
  let rotation = -30;
  let frame = 0;
  let globeVisible = true;
  let animId = null;

  // Pause animation when globe is off-screen
  const observer = new IntersectionObserver(([entry]) => {
    globeVisible = entry.isIntersecting;
    if (globeVisible && !animId) animateGlobe();
  }, { threshold: 0.05 });
  observer.observe(canvas);

  // Office cities
  const cities = [
    { name: 'Boca Raton', coords: [-80.08, 26.36] },
    { name: 'São Paulo', coords: [-46.63, -23.55] },
    { name: 'Dallas', coords: [-96.80, 32.78] }
  ];
  // City connection pairs
  const arcs = [
    [cities[0].coords, cities[1].coords],
    [cities[0].coords, cities[2].coords],
    [cities[1].coords, cities[2].coords]
  ];

  fetch('https://cdn.jsdelivr.net/npm/world-atlas@2/land-110m.json')
    .then(r => r.json())
    .then(world => {
      const land = topojson.feature(world, world.objects.land);
      for (let lat = -80; lat <= 80; lat += 2) {
        for (let lon = -180; lon < 180; lon += 2) {
          if (d3.geoContains(land, [lon, lat])) {
            landDots.push([lon, lat]);
          }
        }
      }
      // Ocean dots at lower density to reduce lag
      for (let lat = -80; lat <= 80; lat += 6) {
        for (let lon = -180; lon < 180; lon += 6) {
          if (!d3.geoContains(land, [lon, lat])) {
            oceanDots.push([lon, lat]);
          }
        }
      }
      animateGlobe();
    })
    .catch(() => {});

  function animateGlobe() {
    ctx.clearRect(0, 0, w, h);
    rotation += 0.12;
    frame++;
    projection.rotate([rotation, -15, 0]);
    const center = projection.invert([cx, cy]);

    // 1. Atmospheric glow behind globe
    const glow = ctx.createRadialGradient(cx, cy, R * 0.6, cx, cy, R * 1.3);
    glow.addColorStop(0, 'rgba(184,151,106,0.06)');
    glow.addColorStop(0.5, 'rgba(184,151,106,0.03)');
    glow.addColorStop(1, 'rgba(184,151,106,0)');
    ctx.fillStyle = glow;
    ctx.beginPath();
    ctx.arc(cx, cy, R * 1.3, 0, Math.PI * 2);
    ctx.fill();

    // 2. Globe inner depth gradient
    const depth = ctx.createRadialGradient(cx - R * 0.15, cy - R * 0.15, 0, cx, cy, R);
    depth.addColorStop(0, 'rgba(248,247,244,0.4)');
    depth.addColorStop(0.7, 'rgba(220,215,205,0.1)');
    depth.addColorStop(1, 'rgba(180,175,165,0.15)');
    ctx.fillStyle = depth;
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, Math.PI * 2);
    ctx.fill();

    // 3. Globe outline
    ctx.beginPath();
    path({ type: 'Sphere' });
    ctx.strokeStyle = 'rgba(12,18,32,0.15)';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    // 4. Graticule
    ctx.beginPath();
    path(graticule);
    ctx.strokeStyle = 'rgba(12,18,32,0.04)';
    ctx.lineWidth = 0.5;
    ctx.stroke();

    // 5. Ocean dots (very faint)
    oceanDots.forEach(d => {
      const p = projection(d);
      if (p) {
        const dist = d3.geoDistance(d, center);
        if (dist < Math.PI / 2) {
          const fade = 1 - (dist / (Math.PI / 2));
          ctx.fillStyle = `rgba(12,18,32,${0.02 + fade * 0.025})`;
          ctx.beginPath();
          ctx.arc(p[0], p[1], 0.8, 0, Math.PI * 2);
          ctx.fill();
        }
      }
    });

    // 6. Land dots
    landDots.forEach(d => {
      const p = projection(d);
      if (p) {
        const dist = d3.geoDistance(d, center);
        if (dist < Math.PI / 2) {
          const fade = 1 - (dist / (Math.PI / 2));
          const alpha = 0.25 + fade * 0.65;
          ctx.fillStyle = `rgba(12,18,32,${alpha})`;
          ctx.beginPath();
          ctx.arc(p[0], p[1], 1.5 + fade * 0.5, 0, Math.PI * 2);
          ctx.fill();
        }
      }
    });

    // 7. Connection arcs between cities
    arcs.forEach(([a, b]) => {
      const interp = d3.geoInterpolate(a, b);
      const steps = 60;
      const dashOffset = (frame * 0.02) % 1;
      ctx.strokeStyle = 'rgba(184,151,106,0.85)';
      ctx.lineWidth = 2.5;
      for (let i = 0; i < steps; i++) {
        const t1 = i / steps;
        const t2 = (i + 1) / steps;
        const p1 = projection(interp(t1));
        const p2 = projection(interp(t2));
        if (p1 && p2) {
          const d1 = d3.geoDistance(interp(t1), center);
          const d2 = d3.geoDistance(interp(t2), center);
          if (d1 < Math.PI / 2 && d2 < Math.PI / 2) {
            // Animated dash pattern
            const segPhase = (t1 + dashOffset) % 0.12;
            if (segPhase < 0.07) {
              const fade1 = 1 - d1 / (Math.PI / 2);
              ctx.globalAlpha = 0.5 + fade1 * 0.5;
              ctx.beginPath();
              ctx.moveTo(p1[0], p1[1]);
              ctx.lineTo(p2[0], p2[1]);
              ctx.stroke();
            }
          }
        }
      }
      ctx.globalAlpha = 1;
    });

    // 8. Pulsing city markers
    const pulse = Math.sin(frame * 0.04) * 0.5 + 0.5; // 0→1 oscillation
    cities.forEach(city => {
      const p = projection(city.coords);
      if (p) {
        const dist = d3.geoDistance(city.coords, center);
        if (dist < Math.PI / 2) {
          const fade = 1 - (dist / (Math.PI / 2));
          // Expanding ring
          const ringR = 6 + pulse * 12;
          ctx.beginPath();
          ctx.arc(p[0], p[1], ringR, 0, Math.PI * 2);
          ctx.strokeStyle = `rgba(184,151,106,${(1 - pulse) * 0.35 * fade})`;
          ctx.lineWidth = 1.5;
          ctx.stroke();
          // Second ring (offset phase)
          const pulse2 = Math.sin(frame * 0.04 + Math.PI) * 0.5 + 0.5;
          const ringR2 = 6 + pulse2 * 12;
          ctx.beginPath();
          ctx.arc(p[0], p[1], ringR2, 0, Math.PI * 2);
          ctx.strokeStyle = `rgba(184,151,106,${(1 - pulse2) * 0.2 * fade})`;
          ctx.stroke();
          // Solid center dot
          ctx.beginPath();
          ctx.arc(p[0], p[1], 4, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(184,151,106,${0.7 + fade * 0.3})`;
          ctx.fill();
          // Bright core
          ctx.beginPath();
          ctx.arc(p[0], p[1], 2, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(255,240,220,${0.8 * fade})`;
          ctx.fill();
        }
      }
    });

    animId = globeVisible ? requestAnimationFrame(animateGlobe) : null;
  }
})();
</script>
</body>
</html>
