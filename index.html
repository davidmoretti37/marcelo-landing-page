<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Spark Aviation | Elevating Excellence in Aviation</title>
<meta name="description" content="Aircraft Sales, Acquisition & Management. Founded by international aviation veteran Marcelo Borin.">
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@200;300;400;500&family=Italiana&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
<script src="https://d3js.org/d3.v7.min.js"></script>
<script src="https://unpkg.com/topojson-client@3"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/build/three.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/loaders/GLTFLoader.js"></script>
<script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.js"></script>
<!-- plane-data scripts loaded lazily after preloader -->
<style>
@font-face {
  font-family: 'Makro';
  src: url('assets/branding/Fonts/Makro Medium.ttf') format('truetype');
  font-weight: 500;
  font-display: swap;
}
*, *::before, *::after { margin: 0; padding: 0; box-sizing: border-box; }
:root {
  --navy: #0C1220;
  --navy-mid: #131B2B;
  --bg: #F8F7F4;
  --bg-alt: #EFEEE9;
  --white: #FFFFFF;
  --gold: #B8976A;
  --text-dark: #0C1220;
  --text-body-dark: #3A4258;
  --text-body: rgba(255,255,255,0.80);
  --text-light: rgba(255,255,255,0.58);
  --text-dim: rgba(255,255,255,0.32);
  --border: rgba(255,255,255,0.08);
  --border-light: rgba(12,18,32,0.08);
  --ease-out: cubic-bezier(0.16, 1, 0.3, 1);
}
html { overflow-x: hidden; scroll-behavior: smooth; }
body {
  font-family: 'Inter', -apple-system, sans-serif;
  background: var(--bg);
  color: var(--text-dark);
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  cursor: none;
}
@media (max-width: 1024px) { body { cursor: auto; } }
::selection { background: var(--gold); color: var(--navy); }
img { display: block; max-width: 100%; }
a { text-decoration: none; color: inherit; }

/* ═══ FLOATING GRADIENT MESH ═══ */
.gradient-mesh {
  position: fixed; inset: 0; z-index: 0;
  pointer-events: none; overflow: hidden;
}
.mesh-orb {
  position: absolute; border-radius: 50%;
  filter: blur(120px);
  will-change: transform;
}
.mesh-orb-1 {
  width: 600px; height: 600px;
  background: rgba(184, 151, 106, 0.07);
  top: -10%; left: -5%;
  animation: meshFloat1 20s ease-in-out infinite alternate;
}
.mesh-orb-2 {
  width: 500px; height: 500px;
  background: rgba(180, 200, 230, 0.08);
  bottom: -10%; right: -5%;
  animation: meshFloat2 24s ease-in-out infinite alternate;
}
.mesh-orb-3 {
  width: 400px; height: 400px;
  background: rgba(184, 151, 106, 0.05);
  top: 40%; left: 50%;
  animation: meshFloat3 18s ease-in-out infinite alternate;
}
@keyframes meshFloat1 { 0% { transform: translate(0, 0); } 100% { transform: translate(80px, 60px); } }
@keyframes meshFloat2 { 0% { transform: translate(0, 0); } 100% { transform: translate(-60px, -80px); } }
@keyframes meshFloat3 { 0% { transform: translate(0, 0); } 100% { transform: translate(-40px, 50px); } }

/* ═══ CUSTOM CURSOR ═══ */
.cursor-dot {
  position: fixed; top: 0; left: 0; z-index: 99999;
  width: 20px; height: 20px;
  pointer-events: none;
  mix-blend-mode: difference;
  will-change: transform;
}
.cursor-dot::before, .cursor-dot::after {
  content: ''; position: absolute;
  background: var(--white);
  transition: transform 0.3s var(--ease-out), opacity 0.3s;
}
.cursor-dot::before { width: 1px; height: 20px; left: 50%; top: 0; transform: translateX(-50%); }
.cursor-dot::after { width: 20px; height: 1px; top: 50%; left: 0; transform: translateY(-50%); }
.cursor-dot.hover::before { transform: translateX(-50%) scaleY(0.5); }
.cursor-dot.hover::after { transform: translateY(-50%) scaleX(0.5); }
.cursor-ring {
  position: fixed; top: 0; left: 0; z-index: 99998;
  width: 40px; height: 40px; border-radius: 50%;
  pointer-events: none;
  will-change: transform;
  background: radial-gradient(circle, rgba(184,151,106,0.08) 0%, transparent 70%);
  transition: width 0.4s var(--ease-out), height 0.4s var(--ease-out), opacity 0.4s;
  opacity: 0;
}
.cursor-ring.hover {
  width: 80px; height: 80px;
  opacity: 1;
  background: radial-gradient(circle, rgba(184,151,106,0.12) 0%, transparent 70%);
}
@media (max-width: 1024px) {
  .cursor-dot, .cursor-ring { display: none !important; }
}

/* ═══ FILM GRAIN ═══ */
.film-grain {
  position: fixed; inset: 0; z-index: 9999;
  pointer-events: none; opacity: 0.018;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noise'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noise)' opacity='1'/%3E%3C/svg%3E");
  background-repeat: repeat;
  background-size: 256px 256px;
  animation: grainShift 0.5s steps(4) infinite;
}
@keyframes grainShift {
  0% { transform: translate(0, 0); }
  25% { transform: translate(-2px, 2px); }
  50% { transform: translate(2px, -2px); }
  75% { transform: translate(-1px, -1px); }
  100% { transform: translate(1px, 1px); }
}

/* ═══ PRELOADER ═══ */
.preloader {
  position: fixed; inset: 0; z-index: 100000;
  background: var(--bg);
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 32px;
}
.pre-bolt { width: 80px; height: auto; }
.pre-bolt path {
  fill: none;
  stroke: rgba(12,18,32,0.7);
  stroke-width: 8;
  stroke-linecap: round;
  stroke-linejoin: round;
}
.pre-text {
  font-family: 'Makro', Georgia, serif;
  font-size: 14px; letter-spacing: 0.35em;
  text-transform: uppercase;
  color: rgba(12,18,32,0.4);
  opacity: 0;
}
.pre-bar-wrap {
  width: 200px; height: 1px;
  background: rgba(12,18,32,0.08);
  border-radius: 1px;
  overflow: hidden;
  opacity: 0;
}
.pre-bar {
  width: 0%; height: 100%;
  background: linear-gradient(90deg, rgba(30,60,140,0.5), var(--gold));
  border-radius: 1px;
  transition: width 0.1s linear;
}
.pre-pct {
  font-size: 11px; letter-spacing: 0.2em;
  color: rgba(12,18,32,0.2);
  font-weight: 300;
  opacity: 0;
}

/* ═══ NAV ═══ */
.nav {
  position: fixed; top: 0; left: 0; right: 0; z-index: 9000;
  display: flex; align-items: center; justify-content: space-between;
  padding: 32px 48px;
  transition: background 0.5s, padding 0.4s var(--ease-out), backdrop-filter 0.5s;
  opacity: 0;
  color: var(--white);
  text-shadow: 0 1px 12px rgba(0,0,0,0.25);
}
.nav.show { opacity: 1; transition: opacity 0.8s 0.3s, background 0.5s, padding 0.4s var(--ease-out); }
.nav.scrolled {
  padding: 18px 48px;
  background: rgba(248,247,244,0.90);
  backdrop-filter: blur(40px);
  -webkit-backdrop-filter: blur(40px);
}
.nav.scrolled .nav-logo-text { color: var(--text-dark); }
.nav.scrolled .nav-logo svg path { fill: var(--text-dark); }
.nav.scrolled .nav-links li a { color: rgba(12,18,32,0.55); }
.nav.scrolled .nav-links li a:hover { color: var(--text-dark); }
.nav.scrolled .nav-links li a::after { background: var(--text-dark); }
.nav.scrolled .nav-cta { border-color: rgba(12,18,32,0.15); color: var(--text-dark); }
.nav.scrolled .nav-cta:hover { background: var(--navy); color: var(--white); border-color: var(--navy); }
.nav.scrolled .mobile-toggle svg { stroke: var(--text-dark); }
.nav.scrolled { text-shadow: none; }
.nav-logo { display: flex; align-items: center; gap: 14px; }
.nav-logo svg { height: 24px; width: auto; }
.nav-logo-text {
  font-size: 11px; font-weight: 500;
  letter-spacing: 0.3em; text-transform: uppercase;
}
.nav-links { display: flex; align-items: center; gap: 44px; list-style: none; }
.nav-links li a {
  font-size: 11px; font-weight: 400;
  letter-spacing: 0.15em; text-transform: uppercase;
  color: rgba(255,255,255,0.6);
  transition: color 0.3s;
  position: relative;
}
.nav-links li a::after {
  content: ''; position: absolute; bottom: -4px; left: 0;
  width: 0; height: 1px; background: var(--white);
  transition: width 0.4s var(--ease-out);
}
.nav-links li a:hover { color: var(--white); }
.nav-links li a:hover::after { width: 100%; }
.nav-cta {
  padding: 10px 28px;
  border: 1px solid rgba(255,255,255,0.15);
  transition: all 0.4s var(--ease-out);
}
.nav-cta::after { display: none; }
.nav-cta:hover { background: var(--white); color: var(--navy); border-color: var(--white); }
.mobile-toggle { display: none; background: none; border: none; cursor: none; }
.mobile-menu {
  position: fixed; inset: 0; z-index: 8999;
  background: var(--navy);
  display: flex; flex-direction: column;
  align-items: center; justify-content: center; gap: 48px;
  opacity: 0; pointer-events: none;
  transition: opacity 0.4s;
}
.mobile-menu.open { opacity: 1; pointer-events: all; }
.mobile-menu a {
  font-family: 'Makro', Georgia, serif;
  font-size: 28px; font-weight: 500;
  letter-spacing: 0.06em; text-transform: uppercase;
  transition: color 0.3s;
}
.mobile-menu a:hover { color: var(--gold); }
.mobile-close {
  position: absolute; top: 32px; right: 48px;
  background: none; border: none; cursor: none;
}

/* ═══ HERO ═══ */
.hero {
  position: relative; height: 100vh; min-height: 700px;
  display: flex; align-items: center; justify-content: flex-start;
  overflow: hidden;
  background: #07080d;
}

/* Image composition container (replaces hero-media) */
.hero-composition {
  position: absolute; inset: 0;
  will-change: transform;
  transform: scale(1.05);
}
/* Main image — right side, left edge fades into dark */
.hc-main {
  position: absolute;
  right: 0; top: 0; bottom: 0;
  width: 60vw;
  overflow: hidden;
  -webkit-mask-image: linear-gradient(to right, transparent 0%, black 16%);
  mask-image: linear-gradient(to right, transparent 0%, black 16%);
}
.hc-main img { width: 100%; height: 100%; object-fit: cover; object-position: center center; }
/* Detail 1 — turbine art, upper-left */
.hc-d1 {
  position: absolute;
  top: 14vh; left: 4vw;
  width: 19vw; height: 25vh;
  overflow: hidden;
  clip-path: inset(0 100% 0 0);
}
.hc-d1 img { width: 100%; height: 100%; object-fit: cover; }
/* Detail 2 — luxury interior, lower center */
.hc-d2 {
  position: absolute;
  bottom: 11vh; left: 32vw;
  width: 24vw; height: 21vh;
  overflow: hidden;
  clip-path: inset(100% 0 0 0);
}
.hc-d2 img { width: 100%; height: 100%; object-fit: cover; object-position: center top; }

.hero-overlay {
  position: absolute; inset: 0; z-index: 2;
  background:
    linear-gradient(90deg, rgba(7,8,13,0.96) 0%, rgba(7,8,13,0.65) 30%, rgba(7,8,13,0.15) 58%, transparent 100%),
    linear-gradient(180deg, rgba(7,8,13,0.65) 0%, transparent 22%, transparent 72%, rgba(7,8,13,0.75) 100%);
}
/* Gradual blur at bottom of hero */
.hero-blur-wrap {
  position: absolute; bottom: 0; left: 0; right: 0;
  height: 180px; z-index: 3;
  pointer-events: none;
}
.hero-blur-layer {
  position: absolute; left: 0; right: 0; bottom: 0;
}
.hero-blur-layer:nth-child(1) { height: 100%; backdrop-filter: blur(1px); -webkit-backdrop-filter: blur(1px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }
.hero-blur-layer:nth-child(2) { height: 80%; backdrop-filter: blur(2px); -webkit-backdrop-filter: blur(2px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }
.hero-blur-layer:nth-child(3) { height: 60%; backdrop-filter: blur(4px); -webkit-backdrop-filter: blur(4px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }
.hero-blur-layer:nth-child(4) { height: 40%; backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }
.hero-blur-layer:nth-child(5) { height: 25%; backdrop-filter: blur(12px); -webkit-backdrop-filter: blur(12px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }
.hero-blur-layer:nth-child(6) { height: 12%; backdrop-filter: blur(16px); -webkit-backdrop-filter: blur(16px); mask-image: linear-gradient(to bottom, transparent 0%, black 100%); -webkit-mask-image: linear-gradient(to bottom, transparent 0%, black 100%); }

.hero-content {
  position: relative; z-index: 10;
  text-align: left;
  padding: 0 0 0 clamp(48px, 7vw, 120px);
  max-width: 52vw;
  color: var(--white);
  text-shadow: 0 2px 24px rgba(0,0,0,0.45), 0 1px 4px rgba(0,0,0,0.2);
}
.hero h1 {
  font-family: 'Inter', -apple-system, sans-serif;
  font-weight: 200; text-transform: uppercase;
  letter-spacing: 0.06em;
  font-size: clamp(48px, 7.5vw, 108px);
  line-height: 1.0;
}
.hero-line { display: block; overflow: hidden; }
.hero-line-inner { display: block; transform: translateY(110%); }
.hero-divider {
  width: 60px; height: 1px;
  background: rgba(255,255,255,0.2);
  margin: 40px 0;
  transform: scaleX(0);
}
.hero-sub {
  font-size: 14px; font-weight: 300;
  line-height: 1.7; color: rgba(255,255,255,0.7);
  max-width: 340px; margin: 0;
}
.hero-cta-wrap { margin-top: 40px; }
.btn-line {
  display: inline-flex; align-items: center; gap: 14px;
  padding: 16px 44px;
  border: 1px solid rgba(255,255,255,0.15);
  font-size: 12px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--white);
  position: relative; overflow: hidden;
  transition: color 0.4s, border-color 0.4s;
}
.btn-line::before {
  content: ''; position: absolute; inset: 0;
  background: var(--white);
  transform: translateY(101%);
  transition: transform 0.5s var(--ease-out);
}
.btn-line:hover::before { transform: translateY(0); }
.btn-line:hover { color: var(--navy); border-color: var(--white); }
.btn-line span, .btn-line svg { position: relative; z-index: 1; }
.btn-line svg { width: 16px; height: 16px; stroke: currentColor; fill: none; stroke-width: 1.5; }

/* ═══ MARQUEE ═══ */
.marquee-section {
  border-top: 1px solid var(--border-light);
  border-bottom: 1px solid var(--border-light);
  background: #E2E0DA;
  overflow: hidden;
  padding: 20px 0;
}
.marquee-track {
  display: flex; width: max-content;
  animation: marqueeScroll 35s linear infinite;
}
.marquee-section:hover .marquee-track { animation-play-state: paused; }
.marquee-item {
  font-family: 'Italiana', Georgia, serif;
  font-size: 15px; letter-spacing: 0.06em;
  color: rgba(12,18,32,0.55);
  white-space: nowrap;
  padding: 0 24px;
  display: flex; align-items: center; gap: 24px;
  transition: color 0.3s;
}
.marquee-section:hover .marquee-item { color: rgba(12,18,32,0.70); }
.marquee-dot {
  width: 3px; height: 3px; border-radius: 50%;
  background: rgba(12,18,32,0.35);
  flex-shrink: 0;
}
@keyframes marqueeScroll {
  0% { transform: translateX(0); }
  100% { transform: translateX(-50%); }
}

/* ═══ STATS BAR (removed) ═══
.stats-bar { display: none; }
.stat-num {
}
.stat-num .gold { color: var(--gold); }
.stat-desc { display: none; }
*/

/* ═══ ABOUT ═══ */
.about {
  display: grid; grid-template-columns: 1fr 1fr;
  min-height: 90vh;
}
.about-img {
  position: relative; overflow: hidden; min-height: 600px;
}
.about-img img {
  position: absolute; inset: 0;
  width: 100%; height: 100%; object-fit: cover;
}
.about-img-reveal {
  position: absolute; inset: 0;
  background: var(--bg);
  transform-origin: right;
  z-index: 2;
}
.about-text {
  display: flex; flex-direction: column; justify-content: center;
  padding: clamp(48px, 8vw, 100px) clamp(32px, 6vw, 80px);
  background: var(--white);
}

/* ═══ GLOBE SECTION ═══ */
.globe-section {
  background: var(--bg);
  padding: clamp(80px, 10vw, 140px) clamp(24px, 5vw, 64px);
  position: relative;
  overflow: hidden;
  border-bottom: 1px solid var(--border-light);
}
.globe-layout {
  display: grid;
  grid-template-columns: 1fr 1fr;
  gap: clamp(40px, 5vw, 80px);
  align-items: center;
  max-width: 1280px;
  margin: 0 auto;
}
.globe-text {
  display: flex; flex-direction: column; justify-content: center;
}
.globe-section .section-title {
  color: var(--text-dark);
  margin-bottom: 20px;
}
.globe-subtitle {
  font-size: 16px; font-weight: 300; line-height: 1.8;
  color: var(--text-body-dark);
  max-width: 440px;
  margin-bottom: 48px;
}
.globe-cities {
  display: flex; flex-direction: column; gap: 20px;
}
.globe-city {
  display: flex; align-items: center; gap: 16px;
  padding-left: 16px;
  border-left: 2px solid var(--gold);
}
.globe-city-name {
  font-family: 'Makro', Georgia, serif;
  font-size: 16px; font-weight: 500;
  text-transform: uppercase;
  letter-spacing: 0.06em;
  color: var(--text-dark);
}
.globe-city-dot {
  width: 4px; height: 4px; border-radius: 50%;
  background: var(--gold);
  flex-shrink: 0;
  opacity: 0.5;
}
.globe-city-label {
  font-size: 10px; letter-spacing: 0.2em;
  text-transform: uppercase;
  color: var(--text-body-dark);
  opacity: 0.5;
}
.globe-wrap {
  position: relative;
  width: 100%;
  aspect-ratio: 1;
  max-width: 580px;
  justify-self: center;
}
.globe-canvas {
  width: 100%;
  height: 100%;
}
.label {
  font-size: 10px; font-weight: 500;
  letter-spacing: 0.3em; text-transform: uppercase;
  color: var(--gold);
  display: flex; align-items: center; gap: 16px;
  margin-bottom: 28px;
}
.label::before { content: ''; width: 32px; height: 1px; background: var(--gold); }
.section-title {
  font-family: 'Makro', Georgia, serif;
  font-weight: 500; text-transform: uppercase;
  letter-spacing: 0.02em; line-height: 1.05;
  font-size: clamp(32px, 4.5vw, 60px);
}
.about-text .section-title { color: var(--navy); margin-bottom: 32px; }
.body-text {
  font-size: 17px; font-weight: 300; line-height: 1.8;
  color: #4A5568; max-width: 480px;
}
.body-text + .body-text { margin-top: 20px; }
.about-quote {
  margin-top: 48px; padding-top: 40px;
  border-top: 1px solid rgba(0,0,0,0.08);
}
.about-quote p {
  font-family: 'Makro', Georgia, serif;
  font-size: 20px; font-weight: 500;
  line-height: 1.6; color: var(--navy);
  font-style: italic;
}
.about-quote cite {
  display: block; margin-top: 16px;
  font-style: normal; font-size: 10px;
  letter-spacing: 0.25em; text-transform: uppercase;
  color: var(--gold);
}

/* ═══ BOLT DIVIDER ═══ */
.bolt-divider {
  padding: 80px 0;
  display: flex; justify-content: center;
  background: var(--bg);
}
.bolt-divider svg { width: 60px; height: auto; }
.bolt-divider path {
  fill: none;
  stroke: rgba(184,151,106,0.6);
  stroke-width: 6;
}

/* ═══ VIDEO TEXT — SCROLL ZOOM REVEAL ═══ */
.vtext {
  position: relative;
  background: var(--bg);
  display: flex; align-items: center; justify-content: center;
  padding: clamp(60px, 8vw, 100px) clamp(16px, 4vw, 48px);
  overflow: hidden;
}
.vtext-frame {
  position: relative;
  width: 52%;
  aspect-ratio: 16 / 9;
  border-radius: 6px;
  overflow: hidden;
  will-change: width, border-radius;
}
.vtext-frame video {
  position: absolute; inset: 0;
  width: 100%; height: 100%; object-fit: cover;
}
.vtext-overlay {
  position: absolute; inset: 0;
  background: radial-gradient(ellipse 70% 60% at 50% 50%, rgba(12,18,32,0.10), rgba(12,18,32,0.50));
  z-index: 1;
}
.vtext-mask {
  position: absolute; inset: 0;
  display: flex; align-items: center; justify-content: center;
  z-index: 2;
  opacity: 0;
  transition: opacity 0.6s;
}
.vtext-mask.vis { opacity: 1; }
.vtext-mask h2 {
  font-family: 'Inter', -apple-system, sans-serif;
  font-size: clamp(28px, 5vw, 72px);
  font-weight: 200; text-transform: uppercase;
  color: #fff;
  line-height: 1.05;
  text-align: center;
  letter-spacing: 0.08em;
}
.vtext-sub {
  position: absolute; bottom: 10%; left: 50%;
  transform: translateX(-50%);
  z-index: 10;
  font-size: 11px; font-weight: 500;
  letter-spacing: 0.3em; text-transform: uppercase;
  color: rgba(12,18,32,0.35);
  white-space: nowrap;
}
@media (max-width: 768px) {
  .vtext-frame { width: 90%; }
}

/* ═══ SERVICES ═══ */
.svc-slide {
  position: relative; height: 100vh; min-height: 700px;
  overflow: hidden;
  display: flex; align-items: center;
}
.svc-slide img {
  position: absolute; inset: 0;
  width: 100%; height: 100%; object-fit: cover;
}
.svc-slide-overlay {
  position: absolute; inset: 0;
  background: linear-gradient(90deg, rgba(12,18,32,0.60) 0%, rgba(12,18,32,0.25) 55%, transparent 100%);
}
.svc-slide:nth-child(even) .svc-slide-overlay {
  background: linear-gradient(270deg, rgba(12,18,32,0.60) 0%, rgba(12,18,32,0.25) 55%, transparent 100%);
}
.svc-text {
  position: relative; z-index: 2;
  padding: 48px clamp(32px, 6vw, 100px);
  max-width: 560px;
  color: var(--white);
  border-top: 2px solid transparent;
  transition: border-color 0.6s var(--ease-out), transform 0.5s var(--ease-out), background 0.5s;
}
.svc-text::before {
  content: ''; position: absolute; top: 0; left: 0;
  width: 0; height: 2px;
  background: linear-gradient(90deg, rgba(30,60,140,0.8), var(--gold));
  transition: width 0.6s var(--ease-out);
}
.svc-text::after {
  content: ''; position: absolute; top: 0; left: 0; right: 0;
  height: 0; background: linear-gradient(180deg, rgba(184,151,106,0.06), transparent);
  transition: height 0.5s var(--ease-out);
  pointer-events: none;
}
@media (hover: hover) {
  .svc-text:hover { transform: translateY(-4px); }
  .svc-text:hover::before { width: 100%; }
  .svc-text:hover::after { height: 200px; }
  .svc-text:hover h3 { color: rgba(140,170,255,0.9); }
}
.svc-slide:nth-child(even) .svc-text {
  margin-left: auto;
}
.svc-num {
  font-family: 'Makro', Georgia, serif;
  font-size: clamp(60px, 8vw, 100px);
  font-weight: 500;
  color: rgba(255,255,255,0.25);
  line-height: 1; margin-bottom: -8px;
}
.svc-text h3 {
  font-family: 'Makro', Georgia, serif;
  font-size: clamp(28px, 4vw, 52px);
  font-weight: 500; text-transform: uppercase;
  letter-spacing: 0.02em; line-height: 1.1;
  margin-bottom: 24px;
  transition: color 0.4s;
}
.svc-text p {
  font-size: 15px; font-weight: 300; line-height: 1.85;
  color: var(--text-body); max-width: 440px;
}
.svc-link {
  display: inline-flex; align-items: center; gap: 12px;
  margin-top: 36px; font-size: 11px; font-weight: 500;
  letter-spacing: 0.25em; text-transform: uppercase;
  color: var(--gold);
  transition: gap 0.4s var(--ease-out);
}
.svc-link:hover { gap: 20px; }
.svc-link svg { width: 16px; height: 16px; stroke: var(--gold); fill: none; stroke-width: 1.5; }

/* ═══ FLEET GALLERY ═══ */
.fleet { background: var(--bg-alt); }
.fleet-header {
  padding: clamp(60px, 8vw, 100px) clamp(24px, 5vw, 64px) clamp(24px, 3vw, 40px);
}
.fleet-grid {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-auto-rows: 45vh;
  gap: 4px;
  padding: 0 4px 4px;
}
.fleet-item {
  position: relative; overflow: hidden;
}
.fleet-item:nth-child(1) { grid-column: span 2; }
.fleet-item:nth-child(4) { grid-column: span 2; }
.fleet-item:nth-child(5) { grid-column: span 2; }
.fleet-item img, .fleet-item video {
  width: 100%; height: 100%; object-fit: cover;
  transition: transform 1.2s var(--ease-out);
}
.fleet-item video { background: var(--bg-alt); }
@media (hover: hover) {
  .fleet-item:hover img, .fleet-item:hover video { transform: scale(1.03); }
}
.fleet-item-overlay {
  position: absolute; inset: 0;
  background: linear-gradient(180deg, transparent 50%, rgba(12,18,32,0.4));
  opacity: 0; transition: opacity 0.4s; pointer-events: none;
}
.fleet-item:hover .fleet-item-overlay { opacity: 1; }
.fleet-item-label {
  position: absolute; bottom: 20px; left: 20px;
  font-size: 10px; letter-spacing: 0.2em; text-transform: uppercase;
  color: var(--white);
  opacity: 0; transform: translateY(6px);
  transition: all 0.4s var(--ease-out); pointer-events: none;
}
.fleet-item:hover .fleet-item-label { opacity: 1; transform: translateY(0); }

/* ═══ QUOTE ═══ */
.quote-section {
  position: relative; overflow: hidden;
  background: var(--bg);
  padding: clamp(100px, 15vw, 200px) clamp(24px, 8vw, 120px);
  display: flex; align-items: center; justify-content: center;
}
.quote-big-mark {
  position: absolute; top: 10%; left: 50%;
  transform: translateX(-50%);
  font-family: 'Makro', Georgia, serif;
  font-size: clamp(200px, 30vw, 500px);
  color: rgba(12,18,32,0.04);
  line-height: 1; pointer-events: none;
  user-select: none;
}
.quote-inner { max-width: 900px; text-align: center; position: relative; z-index: 1; }
.quote-text {
  font-family: 'Makro', Georgia, serif;
  font-size: clamp(24px, 3.5vw, 44px);
  font-weight: 500; line-height: 1.5;
  color: var(--text-dark);
}
.quote-text .word {
  opacity: 0.08;
  transition: opacity 0.5s;
}
.quote-text .word.lit { opacity: 1; }
.quote-text .word.em { color: var(--gold); font-style: italic; }
.quote-cite {
  text-align: center; margin-top: 40px;
  font-size: 10px; letter-spacing: 0.3em;
  text-transform: uppercase;
  color: var(--gold);
  opacity: 0;
  transition: opacity 0.6s;
}
.quote-cite.vis { opacity: 1; }

/* ═══ CONTACT ═══ */
.contact {
  background: var(--navy);
  padding: clamp(80px, 12vw, 160px) clamp(24px, 5vw, 64px);
}
.contact .container { max-width: 680px; margin: 0 auto; text-align: center; }
.contact .label { color: var(--gold); justify-content: center; }
.contact .label::before { background: var(--gold); }
.contact .section-title { color: var(--white); margin-bottom: 20px; }
.contact-subtitle {
  font-size: clamp(15px, 1.2vw, 17px); font-weight: 300;
  color: var(--text-body); line-height: 1.7; margin-bottom: 48px;
}
.contact-actions {
  display: flex; gap: 16px; justify-content: center;
  flex-wrap: wrap; margin-bottom: 20px;
}
.contact-btn {
  display: inline-flex; align-items: center; gap: 10px;
  padding: 16px 32px;
  font-family: 'Inter', sans-serif; font-size: 13px; font-weight: 500;
  letter-spacing: 0.15em; text-transform: uppercase;
  text-decoration: none; cursor: pointer;
  transition: transform 0.3s var(--ease-out), box-shadow 0.3s, background 0.3s;
}
.contact-btn:hover { transform: translateY(-2px); }
.contact-btn svg { width: 18px; height: 18px; }
.contact-btn--call {
  background: transparent; border: 1.5px solid var(--gold);
  color: var(--gold);
}
.contact-btn--call:hover { background: rgba(184,151,106,0.1); box-shadow: 0 12px 40px rgba(184,151,106,0.15); }
.contact-btn--call svg { stroke: var(--gold); fill: none; stroke-width: 1.5; }
.contact-btn--email {
  background: transparent; border: 1.5px solid rgba(255,255,255,0.15);
  color: rgba(255,255,255,0.7);
}
.contact-btn--email:hover { border-color: rgba(255,255,255,0.3); color: var(--white); box-shadow: 0 12px 40px rgba(255,255,255,0.05); }
.contact-btn--email svg { stroke: currentColor; fill: none; stroke-width: 1.5; }
.contact-availability {
  font-size: 12px; letter-spacing: 0.15em; text-transform: uppercase;
  color: rgba(255,255,255,0.3); margin-bottom: 64px;
}
.contact-divider {
  display: flex; align-items: center; gap: 20px;
  margin-bottom: 40px; color: rgba(255,255,255,0.2);
  font-size: 11px; letter-spacing: 0.2em; text-transform: uppercase;
}
.contact-divider::before, .contact-divider::after {
  content: ''; flex: 1; height: 1px; background: rgba(255,255,255,0.08);
}
.contact-form { display: flex; flex-direction: column; gap: 20px; max-width: 100%; }
.fg { display: flex; flex-direction: column; gap: 8px; flex: 1; }
.fg label { font-size: 9px; font-weight: 500; letter-spacing: 0.25em; text-transform: uppercase; color: rgba(255,255,255,0.3); text-align: left; }
.fg input, .fg textarea {
  padding: 16px 20px;
  background: rgba(255,255,255,0.05);
  border: 1px solid rgba(255,255,255,0.08);
  color: var(--white); font-family: 'Inter', sans-serif;
  font-size: 14px; font-weight: 300; outline: none;
  transition: border-color 0.3s, background 0.3s;
}
.fg input:focus, .fg textarea:focus {
  border-color: var(--gold);
  background: rgba(184,151,106,0.06);
}
.fg input::placeholder, .fg textarea::placeholder { color: rgba(255,255,255,0.18); }
.fg textarea { resize: vertical; min-height: 120px; }
.btn-gold {
  align-self: center;
  padding: 16px 44px;
  background: var(--gold); border: none;
  color: var(--navy); font-family: 'Inter', sans-serif;
  font-size: 12px; font-weight: 500;
  letter-spacing: 0.2em; text-transform: uppercase;
  cursor: pointer;
  transition: transform 0.3s var(--ease-out), box-shadow 0.3s;
}
.btn-gold:hover { transform: translateY(-2px); box-shadow: 0 16px 48px rgba(184,151,106,0.2); }

/* ═══ FOOTER ═══ */
.footer {
  background: var(--bg-alt);
  border-top: 1px solid var(--border-light);
  padding: 40px 64px;
  display: flex; align-items: center; justify-content: space-between;
}
.footer-logo { display: flex; align-items: center; gap: 12px; }
.footer-logo svg { height: 18px; }
.footer-logo svg path { fill: rgba(12,18,32,0.25); }
.footer-logo span { font-size: 10px; font-weight: 500; letter-spacing: 0.3em; text-transform: uppercase; color: rgba(12,18,32,0.20); }
.footer-offices { display: flex; gap: 32px; font-size: 10px; letter-spacing: 0.15em; text-transform: uppercase; color: rgba(12,18,32,0.15); }
.footer-copy { font-size: 10px; color: rgba(12,18,32,0.12); }

/* ═══ REVEAL UTILITY ═══ */
.reveal {
  opacity: 0; transform: translateY(30px);
  transition: opacity 0.9s var(--ease-out), transform 0.9s var(--ease-out);
}
.reveal.vis { opacity: 1; transform: translateY(0); }
/* Stagger delays for grouped elements */
.fleet-item.reveal:nth-child(2) { transition-delay: 0.08s; }
.fleet-item.reveal:nth-child(3) { transition-delay: 0.16s; }
.fleet-item.reveal:nth-child(4) { transition-delay: 0.24s; }
.fleet-item.reveal:nth-child(5) { transition-delay: 0.32s; }
.fleet-item.reveal:nth-child(6) { transition-delay: 0.40s; }

/* ═══ RESPONSIVE ═══ */
@media (max-width: 1024px) {
  .nav { padding: 20px 24px; }
  .nav.scrolled { padding: 14px 24px; }
  .nav-links { display: none; }
  .mobile-toggle { display: block; }
  .about { grid-template-columns: 1fr; }
  .about-img { min-height: 50vh; }
  .about-text { padding: 64px 32px; }
  .globe-layout { grid-template-columns: 1fr; text-align: center; }
  .globe-text .label { justify-content: center; }
  .globe-wrap { max-width: 340px; }
  .globe-cities { align-items: center; }
  .globe-subtitle { margin-left: auto; margin-right: auto; }
  .svc-slide { min-height: auto; height: auto; padding: 80px 0; }
  .svc-slide-overlay { background: rgba(12,18,32,0.50) !important; }
  .svc-text { max-width: 100%; margin: 0 !important; padding: 0 32px; }
  .stats-bar { grid-template-columns: repeat(2, 1fr); }
  .stat-cell { border-bottom: 1px solid var(--border-light); }
  .fleet-grid { grid-template-columns: 1fr 1fr; grid-auto-rows: 35vh; }
  .fleet-item:nth-child(1),
  .fleet-item:nth-child(4),
  .fleet-item:nth-child(5) { grid-column: span 2; }
  .contact-actions { flex-direction: column; align-items: stretch; }
  .contact-btn { justify-content: center; }
  .footer { padding: 32px 24px; flex-direction: column; gap: 20px; text-align: center; }
  .footer-offices { justify-content: center; }
  .mobile-close { right: 24px; }
}
@media (max-width: 640px) {
  .hero h1 { font-size: clamp(32px, 11vw, 52px); }
  .fleet-grid { grid-template-columns: 1fr; grid-auto-rows: 40vh; }
  .fleet-item:nth-child(1),
  .fleet-item:nth-child(4),
  .fleet-item:nth-child(5) { grid-column: span 1; }
  .btn-line, .btn-gold { width: 100%; justify-content: center; text-align: center; }
  .hero-cta-wrap { padding: 0 20px; }
}

/* ═══ PLANE SCROLL ═══ */
.plane-scroll {
  position: relative;
  height: 100vh;
  background: #08090e;
}
/* Top & bottom gradient fades */
.plane-scroll::before,
.plane-scroll::after {
  content: '';
  position: absolute;
  left: 0; right: 0;
  height: 160px;
  pointer-events: none;
  z-index: 2;
}
.plane-scroll::before {
  top: 0;
  background: linear-gradient(to bottom, #08090e 0%, transparent 100%);
}
.plane-scroll::after {
  bottom: 0;
  background: linear-gradient(to top, #08090e 0%, transparent 100%);
}
.plane-scroll-sticky {
  width: 100%; height: 100vh;
  display: grid;
  grid-template-columns: 1fr 1fr;
  overflow: hidden;
}

/* ─── LEFT INFO PANEL ─── */
.plane-info-col {
  display: flex; flex-direction: column;
  justify-content: center;
  padding: 0 clamp(32px, 6vw, 100px);
  position: relative;
  transition: opacity 0.35s ease, transform 0.35s ease;
}
.plane-info-col.is-switching {
  opacity: 0;
  transform: translateY(14px);
}
.plane-info-label {
  font-size: 10px; letter-spacing: 0.28em; color: var(--gold);
  text-transform: uppercase; margin-bottom: 18px;
  display: flex; align-items: center; gap: 10px;
}
.plane-info-label::before {
  content: ''; width: 28px; height: 1px; background: var(--gold); opacity: 0.6;
}
.plane-info-name {
  font-family: var(--font-display, 'Italiana', serif);
  font-size: clamp(36px, 4.5vw, 64px);
  color: #fff; line-height: 1.1; margin: 0 0 12px;
  transition: opacity 0.4s;
}
.plane-info-desc {
  font-size: 14px; font-weight: 300; color: rgba(255,255,255,0.45);
  line-height: 1.75; margin-bottom: 36px; max-width: 340px;
  transition: opacity 0.4s;
}
.plane-stats {
  display: grid; grid-template-columns: 1fr 1fr;
  gap: 16px 28px; margin-bottom: 44px;
}
.plane-stat { border-top: 1px solid rgba(255,255,255,0.08); padding-top: 12px; }
.plane-stat-val {
  font-size: 22px; font-weight: 300; color: #fff;
  letter-spacing: 0.02em; line-height: 1;
}
.plane-stat-key {
  font-size: 10px; letter-spacing: 0.18em; color: rgba(255,255,255,0.35);
  text-transform: uppercase; margin-top: 5px;
}

/* ─── NAV ROW ─── */
.plane-nav-row {
  display: flex; align-items: center; gap: 12px;
}
.plane-nav {
  width: 44px; height: 44px; border-radius: 50%;
  border: 1px solid rgba(255,255,255,0.15);
  background: rgba(255,255,255,0.06);
  display: flex; align-items: center; justify-content: center;
  cursor: pointer; transition: all 0.2s; color: rgba(255,255,255,0.7);
}
.plane-nav:hover {
  background: rgba(184,151,106,0.18); border-color: rgba(184,151,106,0.6);
  color: #B8976A;
}
.plane-nav svg { width: 18px; height: 18px; }
.plane-counter {
  display: flex; gap: 7px; align-items: center; margin-left: 4px;
}
.plane-counter-dot {
  width: 5px; height: 5px; border-radius: 50%;
  background: rgba(255,255,255,0.2); transition: all 0.3s;
}
.plane-counter-dot.active { background: var(--gold, #B8976A); transform: scale(1.5); }

/* ─── RIGHT CANVAS COL ─── */
.plane-canvas-col {
  display: flex; align-items: center; justify-content: center;
  position: relative;
}
.plane-canvas-wrap {
  position: relative;
  width: min(90%, 640px);
  height: min(90%, 640px);
}
/* ─── AMBIENT GLOW BEHIND PLANE ─── */
.plane-canvas-col::before {
  content: '';
  position: absolute; inset: 0;
  background: radial-gradient(ellipse 60% 50% at 50% 55%, rgba(184,151,106,0.10) 0%, transparent 70%);
  pointer-events: none;
}
#planeCanvas {
  width: 100% !important;
  height: 100% !important;
  display: block;
  transition: opacity 0.35s ease;
}
.plane-fallback {
  position: absolute; inset: 0;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
  gap: 12px; pointer-events: none;
}
.plane-fallback p {
  font-size: 12px; font-weight: 300; letter-spacing: 0.22em;
  text-transform: uppercase; color: rgba(80,80,80,0.5);
}
.plane-fallback code {
  font-size: 11px; color: var(--gold);
  background: rgba(184,151,106,0.08);
  padding: 4px 14px; border-radius: 4px; letter-spacing: 0.06em;
}

/* ═══ STORY SPLIT SECTIONS ═══ */
.story-section {
  display: grid;
  grid-template-columns: 1fr 1fr;
  min-height: 70vh;
}
.story-section.reverse { direction: rtl; }
.story-section.reverse > * { direction: ltr; }
.story-img {
  position: relative;
  overflow: hidden;
  min-height: 500px;
}
.story-img img {
  position: absolute; inset: 0;
  width: 100%; height: 100%; object-fit: cover;
  transition: transform 1.2s var(--ease-out);
}
.story-img:hover img { transform: scale(1.04); }
.story-text {
  display: flex; flex-direction: column; justify-content: center;
  padding: clamp(48px, 8vw, 100px) clamp(32px, 6vw, 80px);
  background: var(--bg-alt);
}
.story-section:nth-child(even) .story-text { background: var(--white); }
.story-text .section-title { font-size: clamp(28px, 3.5vw, 48px); color: var(--navy); margin-bottom: 24px; }
.story-text .body-text { max-width: 400px; }
.story-detail {
  margin-top: 32px;
  display: flex; gap: 32px;
}
.story-detail-item {
  display: flex; flex-direction: column; gap: 4px;
}
.story-detail-num {
  font-family: 'Makro', Georgia, serif;
  font-size: 28px; font-weight: 500;
  color: var(--gold); line-height: 1;
}
.story-detail-label {
  font-size: 9px; letter-spacing: 0.25em;
  text-transform: uppercase; color: var(--text-body-dark);
}
@media (max-width: 900px) {
  .story-section { grid-template-columns: 1fr; }
  .story-section.reverse { direction: ltr; }
  .story-img { min-height: 55vw; }
}

/* ═══ FLEET — SYMMETRIC ═══ */
.fleet-grid-sym {
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  grid-template-rows: repeat(2, 48vh);
  gap: 4px;
  padding: 0 4px 4px;
}
.fleet-grid-sym .fleet-item { grid-column: span 1; }
@media (max-width: 768px) {
  .fleet-grid-sym { grid-template-columns: repeat(2, 1fr); grid-template-rows: repeat(3, 38vh); }
}

/* ═══ MOBILE — COMPREHENSIVE ═══ */
@media (max-width: 768px) {

  /* ── Hero ── */
  .hc-main {
    width: 100%;
    -webkit-mask-image: linear-gradient(to right, transparent 0%, black 12%);
    mask-image: linear-gradient(to right, transparent 0%, black 12%);
  }
  .hc-d1, .hc-d2 { display: none; }
  .hero-overlay {
    background:
      linear-gradient(90deg, rgba(7,8,13,0.92) 0%, rgba(7,8,13,0.60) 50%, rgba(7,8,13,0.28) 100%),
      linear-gradient(180deg, rgba(7,8,13,0.55) 0%, transparent 25%, transparent 65%, rgba(7,8,13,0.75) 100%);
  }
  .hero-content {
    max-width: 100%;
    padding: 0 28px;
  }
  .hero-sub { max-width: 100%; font-size: 13px; }
  .hero-blur-wrap { height: 100px; }

  /* ── Nav ── */
  .mobile-toggle { cursor: pointer; }
  .mobile-close { cursor: pointer; }

  /* ── About ── */
  .about-img { min-height: 55vw; }
  .about-text { padding: 48px 24px; }

  /* ── Globe ── */
  .globe-section { padding: clamp(60px, 8vw, 100px) 24px; }
  .globe-wrap { max-width: 300px; }

  /* ── Plane section — stack vertically ── */
  .plane-scroll { height: auto; min-height: 100svh; }
  .plane-scroll::before, .plane-scroll::after { height: 80px; }
  .plane-scroll-sticky {
    grid-template-columns: 1fr;
    height: auto;
    min-height: 100svh;
  }
  .plane-canvas-col {
    height: 52vw;
    min-height: 220px;
    max-height: 340px;
  }
  .plane-canvas-wrap { width: 92%; height: 92%; }
  .plane-info-col {
    padding: 20px 28px 48px;
    justify-content: flex-start;
  }
  .plane-info-name { font-size: clamp(28px, 8vw, 48px); }
  .plane-info-desc { font-size: 13px; margin-bottom: 24px; }
  .plane-stats { gap: 12px 20px; margin-bottom: 28px; }
  .plane-stat-val { font-size: 18px; }

  /* ── Services ── */
  .svc-slide { padding: 80px 0; }
  .svc-text { padding: 0 24px !important; max-width: 100%; }
  .svc-num { font-size: clamp(48px, 12vw, 72px); }
  .svc-text h3 { font-size: clamp(24px, 6vw, 40px); }

  /* ── Story sections ── */
  .story-text { padding: 48px 24px; }

  /* ── Fleet ── */
  .fleet-header { padding: clamp(48px, 8vw, 80px) 24px clamp(16px, 3vw, 32px); }

  /* ── Quote ── */
  .quote-section { padding: clamp(72px, 12vw, 120px) 24px; }
  .quote-big-mark { font-size: 45vw; top: 5%; }

  /* ── Contact ── */
  .contact { padding: clamp(64px, 10vw, 120px) 24px; }
  .contact-btn { padding: 14px 24px; font-size: 12px; }

  /* ── Footer ── */
  .footer { padding: 32px 24px; }
  .footer-offices { display: none; }
}

@media (max-width: 480px) {
  /* ── Hero ── */
  .hero { min-height: 100svh; }
  .hero h1 { font-size: clamp(36px, 10vw, 52px); }
  .hero-divider { margin: 20px 0; }
  .hero-cta-wrap { margin-top: 28px; }
  .btn-line { padding: 14px 28px; font-size: 11px; }

  /* ── Services ── */
  .svc-slide { padding: 64px 0; }
  .svc-text p { font-size: 14px; }

  /* ── Plane ── */
  .plane-canvas-col { min-height: 200px; }
  .plane-info-col { padding: 16px 20px 40px; }

  /* ── Fleet ── */
  .fleet-grid-sym {
    grid-template-columns: 1fr;
    grid-template-rows: repeat(6, 56vw);
  }
  .fleet-item.reveal:nth-child(n) { transition-delay: 0s; }

  /* ── Story ── */
  .story-img { min-height: 60vw; }
  .story-detail { gap: 20px; }
  .story-detail-num { font-size: 22px; }

  /* ── Contact form ── */
  .contact-btn { padding: 16px 20px; }
}
</style>
</head>
<body>

<!-- ═══ FLOATING GRADIENT MESH ═══ -->
<div class="gradient-mesh" aria-hidden="true">
  <div class="mesh-orb mesh-orb-1"></div>
  <div class="mesh-orb mesh-orb-2"></div>
  <div class="mesh-orb mesh-orb-3"></div>
</div>

<!-- ═══ FILM GRAIN ═══ -->
<div class="film-grain" aria-hidden="true"></div>

<!-- ═══ CUSTOM CURSOR ═══ -->
<div class="cursor-dot" id="cursorDot"></div>
<div class="cursor-ring" id="cursorRing"></div>

<!-- ═══ PRELOADER ═══ -->
<div class="preloader" id="preloader">
  <svg class="pre-bolt" viewBox="0 0 362 448" fill="none">
    <path id="boltP1" d="M200.264 1.18837L0.61804 225.27C0.262735 225.669 0.0664062 226.185 0.0664062 226.719V227.658V330.356C0.0664062 331.558 1.04122 332.533 2.24371 332.533H153.334C154.536 332.533 155.511 331.558 155.511 330.356V258.665C155.511 257.463 154.536 256.488 153.334 256.488H79.9366C78.042 256.488 77.0514 254.236 78.3318 252.839L203.494 116.334C203.862 115.933 204.067 115.408 204.067 114.863V2.63675C204.067 0.635919 201.595 -0.305547 200.264 1.18837Z"/>
    <path id="boltP2" d="M161.803 446.69L361.449 222.608C361.804 222.21 362 221.694 362 221.16V220.221V117.523C362 116.32 361.025 115.346 359.823 115.346H208.733C207.531 115.346 206.556 116.32 206.556 117.523V189.214C206.556 190.416 207.531 191.391 208.733 191.391H282.13C284.025 191.391 285.015 193.643 283.735 195.04L158.572 331.545C158.204 331.946 158 332.471 158 333.016V445.242C158 447.243 160.472 448.184 161.803 446.69Z"/>
  </svg>
  <div class="pre-text" id="preText">Spark Aviation</div>
  <div class="pre-bar-wrap" id="preBarWrap"><div class="pre-bar" id="preBar"></div></div>
  <div class="pre-pct" id="prePct">0%</div>
</div>

<!-- ═══ NAV ═══ -->
<nav class="nav" id="nav">
  <a href="#" class="nav-logo">
    <svg viewBox="0 0 362 448" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M200.264 1.18837L0.61804 225.27C0.262735 225.669 0.0664062 226.185 0.0664062 226.719V227.658V330.356C0.0664062 331.558 1.04122 332.533 2.24371 332.533H153.334C154.536 332.533 155.511 331.558 155.511 330.356V258.665C155.511 257.463 154.536 256.488 153.334 256.488H79.9366C78.042 256.488 77.0514 254.236 78.3318 252.839L203.494 116.334C203.862 115.933 204.067 115.408 204.067 114.863V2.63675C204.067 0.635919 201.595 -0.305547 200.264 1.18837ZM161.803 446.69L361.449 222.608C361.804 222.21 362 221.694 362 221.16V220.221V117.523C362 116.32 361.025 115.346 359.823 115.346H208.733C207.531 115.346 206.556 116.32 206.556 117.523V189.214C206.556 190.416 207.531 191.391 208.733 191.391H282.13C284.025 191.391 285.015 193.643 283.735 195.04L158.572 331.545C158.204 331.946 158 332.471 158 333.016V445.242C158 447.243 160.472 448.184 161.803 446.69Z" fill="white"/></svg>
    <span class="nav-logo-text">Spark Aviation</span>
  </a>
  <ul class="nav-links">
    <li><a href="#about">About</a></li>
    <li><a href="#services">Services</a></li>
    <li><a href="#fleet">Fleet</a></li>
    <li><a href="#contact" class="nav-cta">Inquire</a></li>
  </ul>
  <button class="mobile-toggle" id="menuBtn" aria-label="Menu">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5"><line x1="4" y1="8" x2="20" y2="8"/><line x1="4" y1="16" x2="20" y2="16"/></svg>
  </button>
</nav>
<div class="mobile-menu" id="mobileMenu">
  <button class="mobile-close" id="menuClose" aria-label="Close">
    <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="1.5"><line x1="6" y1="6" x2="18" y2="18"/><line x1="18" y1="6" x2="6" y2="18"/></svg>
  </button>
  <a href="#about" class="mob-link">About</a>
  <a href="#services" class="mob-link">Services</a>
  <a href="#fleet" class="mob-link">Fleet</a>
  <a href="#contact" class="mob-link">Contact</a>
</div>

<!-- ═══ HERO ═══ -->
<section class="hero" id="hero">
  <div class="hero-composition" id="heroMedia">
    <div class="hc-main">
      <img src="assets/branding/PNG/Spark_Rifle-13.jpg" alt="">
    </div>
    <div class="hc-d1">
      <img src="assets/branding/PNG/NBAA_Spark-1.jpg" alt="">
    </div>
    <div class="hc-d2">
      <img src="assets/branding/PNG/Spark_Rifle-5.jpg" alt="">
    </div>
  </div>
  <div class="hero-overlay"></div>
  <div class="hero-blur-wrap" aria-hidden="true">
    <div class="hero-blur-layer"></div>
    <div class="hero-blur-layer"></div>
    <div class="hero-blur-layer"></div>
    <div class="hero-blur-layer"></div>
    <div class="hero-blur-layer"></div>
    <div class="hero-blur-layer"></div>
  </div>
  <div class="hero-content" id="heroContent">
    <h1>
      <span class="hero-line"><span class="hero-line-inner" id="hl1">Elevating</span></span>
      <span class="hero-line"><span class="hero-line-inner" id="hl2">Excellence</span></span>
    </h1>
    <div class="hero-divider" id="heroDiv"></div>
    <p class="hero-sub" id="heroSub">Founded by international aviation veteran Marcelo Borin<br>with 30 years of elite global experience.</p>
    <div class="hero-cta-wrap" id="heroCta">
      <a href="#contact" class="btn-line"><span>Inquire Now</span><svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></a>
    </div>
  </div>
</section>

<!-- ═══ MARQUEE ═══ -->
<div class="marquee-section">
  <div class="marquee-track" id="marqueeTrack">
    <div class="marquee-item">Gulfstream G700<span class="marquee-dot"></span></div>
    <div class="marquee-item">Bombardier Global 7500<span class="marquee-dot"></span></div>
    <div class="marquee-item">Dassault Falcon 8X<span class="marquee-dot"></span></div>
    <div class="marquee-item">Embraer Praetor 600<span class="marquee-dot"></span></div>
    <div class="marquee-item">Cessna Citation Longitude<span class="marquee-dot"></span></div>
    <div class="marquee-item">Pilatus PC-24<span class="marquee-dot"></span></div>
    <div class="marquee-item">Boeing BBJ<span class="marquee-dot"></span></div>
    <div class="marquee-item">Hawker 4000<span class="marquee-dot"></span></div>
    <!-- duplicate for seamless loop -->
    <div class="marquee-item">Gulfstream G700<span class="marquee-dot"></span></div>
    <div class="marquee-item">Bombardier Global 7500<span class="marquee-dot"></span></div>
    <div class="marquee-item">Dassault Falcon 8X<span class="marquee-dot"></span></div>
    <div class="marquee-item">Embraer Praetor 600<span class="marquee-dot"></span></div>
    <div class="marquee-item">Cessna Citation Longitude<span class="marquee-dot"></span></div>
    <div class="marquee-item">Pilatus PC-24<span class="marquee-dot"></span></div>
    <div class="marquee-item">Boeing BBJ<span class="marquee-dot"></span></div>
    <div class="marquee-item">Hawker 4000<span class="marquee-dot"></span></div>
  </div>
</div>

<!-- ═══ ABOUT ═══ -->
<section id="about">
  <div class="about">
    <div class="about-img">
      <img src="assets/branding/PNG/Spark_Rifle-17.jpg" alt="Low-angle wing tail engine mountains" style="object-position: center bottom;">
      <div class="about-img-reveal" id="aboutReveal"></div>
    </div>
    <div class="about-text">
      <div class="label reveal">The Spark Story</div>
      <h2 class="section-title reveal">Three Decades of<br>Aviation Excellence</h2>
      <p class="body-text reveal">Spark Aviation was born from a pilot's conviction that the aircraft transaction experience could be better — more personal, more informed, and built on genuine relationships rather than transactional pressure.</p>
      <p class="body-text reveal">Founded by Marcelo Borin, a Brazilian-American aviation veteran who spent three decades in the cockpit — including flying U.S. Presidents — Spark brings the precision of a pilot and the care of a trusted advisor to every deal.</p>
      <div class="about-quote reveal">
        <p>"I knew how to serve, how to fly, and how to connect with people. That's what this company is built on."</p>
        <cite>Marcelo Borin — Founder</cite>
      </div>
    </div>
  </div>
</section>

<!-- ═══ GLOBE — GLOBAL REACH ═══ -->
<section class="globe-section">
  <div class="globe-layout">
    <div class="globe-text">
      <div class="label reveal">Global Presence</div>
      <h2 class="section-title reveal">Worldwide<br>Reach</h2>
      <p class="globe-subtitle reveal">Three decades of trusted relationships across borders, connecting buyers and sellers on every continent.</p>
      <div class="globe-cities reveal">
        <div class="globe-city"><div><div class="globe-city-name">Boca Raton</div><div class="globe-city-label">Florida, USA</div></div></div>
        <div class="globe-city"><div><div class="globe-city-name">São Paulo</div><div class="globe-city-label">Brazil</div></div></div>
        <div class="globe-city"><div><div class="globe-city-name">Dallas</div><div class="globe-city-label">Texas, USA</div></div></div>
      </div>
    </div>
    <div class="globe-wrap reveal">
      <canvas id="globeCanvas" class="globe-canvas" width="1000" height="1000"></canvas>
    </div>
  </div>
</section>

<!-- ═══ BOLT DIVIDER ═══ -->
<!-- ═══ PLANE SCROLL — 3D MODEL ═══ -->
<section class="plane-scroll" id="planeScroll">
  <div class="plane-scroll-sticky" id="planeScrollSticky">

    <!-- Left: info + nav -->
    <div class="plane-info-col">
      <div class="plane-info-label">The Fleet</div>
      <h2 class="plane-info-name" id="planeName">Gulfstream G700</h2>
      <p class="plane-info-desc" id="planeDesc">The pinnacle of ultra-long-range aviation. Engineered for those who demand the extraordinary on every journey.</p>
      <div class="plane-stats" id="planeStats">
        <div class="plane-stat"><div class="plane-stat-val">7,500</div><div class="plane-stat-key">Range (nm)</div></div>
        <div class="plane-stat"><div class="plane-stat-val">Mach .925</div><div class="plane-stat-key">Top Speed</div></div>
        <div class="plane-stat"><div class="plane-stat-val">19</div><div class="plane-stat-key">Passengers</div></div>
        <div class="plane-stat"><div class="plane-stat-val">51,000</div><div class="plane-stat-key">Max Altitude (ft)</div></div>
      </div>
      <div class="plane-nav-row">
        <button class="plane-nav" id="planePrev" aria-label="Previous">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M15 18l-6-6 6-6"/></svg>
        </button>
        <button class="plane-nav" id="planeNext" aria-label="Next">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><path d="M9 18l6-6-6-6"/></svg>
        </button>
        <div class="plane-counter" id="planeCounter">
          <div class="plane-counter-dot active" data-idx="0"></div>
          <div class="plane-counter-dot" data-idx="1"></div>
        </div>
      </div>
    </div>

    <!-- Right: 3D viewer -->
    <div class="plane-canvas-col">
      <div class="plane-canvas-wrap">
        <canvas id="planeCanvas"></canvas>
        <div class="plane-fallback" id="planeFallback">
          <p style="color:rgba(255,255,255,0.3)">Loading</p>
        </div>
      </div>
    </div>

  </div>
</section>

<!-- ═══ SERVICES ═══ -->
<section id="services">
  <div class="svc-slide">
    <img src="assets/branding/PNG/Spark_Rifle-38.jpg" alt="Stairs open dark fuselage awaiting">
    <div class="svc-slide-overlay"></div>
    <div class="svc-text">
      <div class="svc-num reveal">01</div>
      <h3 class="reveal">Aircraft<br>Sales</h3>
      <p class="reveal">We specialize in discreet, high-value jet transactions across the globe. Our curated network and deep market intelligence ensure optimal value and swift closings, whether you're upgrading, transitioning, or exiting ownership.</p>
      <a href="#contact" class="svc-link reveal">Inquire <svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></a>
    </div>
  </div>
  <div class="svc-slide">
    <img src="assets/branding/PNG/Spark_Rifle-10.jpg" alt="Three-quarter boarding angle">
    <div class="svc-slide-overlay"></div>
    <div class="svc-text">
      <div class="svc-num reveal">02</div>
      <h3 class="reveal">Aircraft<br>Acquisition</h3>
      <p class="reveal">From first-time buyers to seasoned owners, we manage every step — from sourcing and negotiation to pre-purchase inspection and entry into service. You define the mission, we deliver the machine.</p>
      <a href="#contact" class="svc-link reveal">Inquire <svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></a>
    </div>
  </div>
  <div class="svc-slide">
    <img src="assets/branding/PNG/Spark_Rifle-6.jpg" alt="Full cockpit instrument panel">
    <div class="svc-slide-overlay"></div>
    <div class="svc-text">
      <div class="svc-num reveal">03</div>
      <h3 class="reveal">Aircraft<br>Management</h3>
      <p class="reveal">Owning a jet should be a privilege — not a burden. Our management services are personalized, transparent, and designed to protect your investment while keeping you flight-ready 24/7.</p>
      <a href="#contact" class="svc-link reveal">Inquire <svg viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg></a>
    </div>
  </div>
</section>

<!-- ═══ STORY SPLIT — JET VIEWS ═══ -->
<section class="story-section">
  <div class="story-img reveal">
    <img src="assets/branding/PNG/Spark_Rifle-11.jpg" alt="Gulfstream G700 full side profile" loading="lazy">
  </div>
  <div class="story-text">
    <div class="label reveal">Curated Excellence</div>
    <h2 class="section-title reveal">Every Aircraft,<br>a Statement</h2>
    <p class="body-text reveal">We don't just sell jets — we match discerning clients with aircraft that reflect their mission, lifestyle, and ambition. From approach to touchdown, every detail matters.</p>
    <div class="story-detail reveal">
      <div class="story-detail-item">
        <div class="story-detail-num">500<span style="color:var(--gold);font-size:18px;">+</span></div>
        <div class="story-detail-label">Transactions</div>
      </div>
      <div class="story-detail-item">
        <div class="story-detail-num">44<span style="color:var(--gold);font-size:18px;">+</span></div>
        <div class="story-detail-label">Countries</div>
      </div>
      <div class="story-detail-item">
        <div class="story-detail-num">$2<span style="color:var(--gold);font-size:18px;">B+</span></div>
        <div class="story-detail-label">In Deals</div>
      </div>
    </div>
  </div>
</section>

<section class="story-section reverse">
  <div class="story-img reveal">
    <img src="assets/branding/PNG/Spark_Rifle-30.jpg" alt="White leather seat oval window clouds" loading="lazy" style="object-position: center center;">
  </div>
  <div class="story-text">
    <div class="label reveal">Pilot's Perspective</div>
    <h2 class="section-title reveal">Above the World,<br>Below the Clouds</h2>
    <p class="body-text reveal">Marcelo Borin flew from this vantage point for three decades — including transporting heads of state. He understands what it means to be at altitude, and what it takes to get there.</p>
    <p class="body-text reveal" style="margin-top:16px;">That perspective shapes every acquisition, every negotiation, every relationship Spark Aviation builds.</p>
  </div>
</section>

<!-- ═══ FLEET ═══ -->
<section id="fleet" class="fleet">
  <div class="fleet-header"><div class="container"><div class="label reveal">The Gallery</div></div></div>
  <div class="fleet-grid-sym">
    <div class="fleet-item reveal"><img src="assets/branding/PNG/NBAA_Spark-2.jpg" alt="Turbine blades sculptural" loading="lazy"><div class="fleet-item-overlay"></div><span class="fleet-item-label">Engineering</span></div>
    <div class="fleet-item reveal"><img src="assets/branding/PNG/NBAA_Spark-8.jpg" alt="Tail silhouette moon blue sky" loading="lazy"><div class="fleet-item-overlay"></div><span class="fleet-item-label">Silhouette</span></div>
    <div class="fleet-item reveal"><img src="assets/branding/PNG/Spark_Rifle-7.jpg" alt="Engine nacelle mountains" loading="lazy"><div class="fleet-item-overlay"></div><span class="fleet-item-label">Precision</span></div>
    <div class="fleet-item reveal"><img src="assets/branding/PNG/Spark_Rifle-29.jpg" alt="Chrome detail" loading="lazy"><div class="fleet-item-overlay"></div><span class="fleet-item-label">Detail</span></div>
    <div class="fleet-item reveal"><img src="assets/branding/PNG/Spark_Rifle-21.jpg" alt="Wide cabin interior looking aft" loading="lazy"><div class="fleet-item-overlay"></div><span class="fleet-item-label">Interior</span></div>
    <div class="fleet-item reveal"><img src="assets/branding/PNG/NBAA_Spark-5.jpg" alt="Hangar dramatic strip lights" loading="lazy"><div class="fleet-item-overlay"></div><span class="fleet-item-label">Craft</span></div>
  </div>
</section>

<!-- ═══ QUOTE ═══ -->
<section class="quote-section">
  <div class="quote-big-mark" aria-hidden="true">&ldquo;</div>
  <div class="quote-inner">
    <p class="quote-text" id="quoteText">I came to this country not knowing the language, but I knew how to serve, how to fly, and how to connect with people. That's what this company is built on: relationships, integrity, and a love for |aviation.|</p>
    <div class="quote-cite" id="quoteCite">Marcelo Borin — Founder, Spark Aviation</div>
  </div>
</section>

<!-- ═══ CONTACT ═══ -->
<section id="contact" class="contact">
  <div class="container">
    <div class="label reveal">Get in Touch</div>
    <h2 class="section-title reveal">Let's Talk<br>Aviation</h2>
    <p class="contact-subtitle reveal">Ready to buy, sell, or manage your aircraft? Reach out directly to Marcelo and the team.</p>
    <div class="contact-actions reveal">
      <a href="tel:+19549944466" class="contact-btn contact-btn--call"><svg viewBox="0 0 24 24"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07 19.5 19.5 0 01-6-6 19.79 19.79 0 01-3.07-8.67A2 2 0 014.11 2h3a2 2 0 012 1.72c.127.96.361 1.903.7 2.81a2 2 0 01-.45 2.11L8.09 9.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45c.907.339 1.85.573 2.81.7A2 2 0 0122 16.92z"/></svg>Call Now</a>
      <a href="mailto:marcelo@sparkaviation.com" class="contact-btn contact-btn--email"><svg viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>Email</a>
    </div>
    <div class="contact-availability reveal">Available 24/7 &middot; Boca Raton &middot; São Paulo &middot; Dallas</div>
    <div class="contact-divider reveal"><span>or send a message</span></div>
    <form class="contact-form reveal" onsubmit="event.preventDefault();this.querySelector('.btn-gold').textContent='Message Sent';this.querySelector('.btn-gold').style.background='#2d6b4a';this.querySelector('.btn-gold').style.color='#fff';">
      <div class="fg"><label>Name</label><input type="text" placeholder="Your name"></div>
      <div class="fg"><label>Email</label><input type="email" placeholder="your@email.com"></div>
      <div class="fg"><label>Message</label><textarea placeholder="Tell us about your aviation needs..."></textarea></div>
      <button type="submit" class="btn-gold">Send Message</button>
    </form>
  </div>
</section>

<!-- ═══ FOOTER ═══ -->
<footer class="footer">
  <div class="footer-logo">
    <svg viewBox="0 0 362 448" fill="none"><path fill-rule="evenodd" clip-rule="evenodd" d="M200.264 1.18837L0.61804 225.27C0.262735 225.669 0.0664062 226.185 0.0664062 226.719V227.658V330.356C0.0664062 331.558 1.04122 332.533 2.24371 332.533H153.334C154.536 332.533 155.511 331.558 155.511 330.356V258.665C155.511 257.463 154.536 256.488 153.334 256.488H79.9366C78.042 256.488 77.0514 254.236 78.3318 252.839L203.494 116.334C203.862 115.933 204.067 115.408 204.067 114.863V2.63675C204.067 0.635919 201.595 -0.305547 200.264 1.18837ZM161.803 446.69L361.449 222.608C361.804 222.21 362 221.694 362 221.16V220.221V117.523C362 116.32 361.025 115.346 359.823 115.346H208.733C207.531 115.346 206.556 116.32 206.556 117.523V189.214C206.556 190.416 207.531 191.391 208.733 191.391H282.13C284.025 191.391 285.015 193.643 283.735 195.04L158.572 331.545C158.204 331.946 158 332.471 158 333.016V445.242C158 447.243 160.472 448.184 161.803 446.69Z" fill="rgba(12,18,32,0.25)"/></svg>
    <span>Spark Aviation</span>
  </div>
  <div class="footer-offices"><span>Boca Raton</span><span>São Paulo</span><span>Dallas</span></div>
  <div class="footer-copy">&copy; 2026 Spark Aviation. All rights reserved.</div>
</footer>

<script>
gsap.registerPlugin(ScrollTrigger);

// ═══ CUSTOM CURSOR ═══
const dot = document.getElementById('cursorDot');
const ring = document.getElementById('cursorRing');
let mouseX = 0, mouseY = 0, ringX = 0, ringY = 0;
if (window.innerWidth > 1024) {
  document.addEventListener('mousemove', e => { mouseX = e.clientX; mouseY = e.clientY; dot.style.transform = `translate(${mouseX - 10}px, ${mouseY - 10}px)`; });
  (function cursorLoop() {
    ringX += (mouseX - ringX) * 0.08;
    ringY += (mouseY - ringY) * 0.08;
    const rSize = ring.classList.contains('hover') ? 40 : 20;
    ring.style.transform = `translate(${ringX - rSize}px, ${ringY - rSize}px)`;
    requestAnimationFrame(cursorLoop);
  })();
  document.querySelectorAll('a, button, .btn-line, .btn-gold, .nav-cta, .svc-link, .fleet-item, .svc-text').forEach(el => {
    el.addEventListener('mouseenter', () => { ring.classList.add('hover'); dot.classList.add('hover'); });
    el.addEventListener('mouseleave', () => { ring.classList.remove('hover'); dot.classList.remove('hover'); });
  });
}

// ═══ PRELOADER — BOLT DRAWS + LOADING BAR + CLIP-PATH WIPE ═══
const p1 = document.getElementById('boltP1');
const p2 = document.getElementById('boltP2');
const l1 = p1.getTotalLength();
const l2 = p2.getTotalLength();
gsap.set([p1, p2], { strokeDasharray: i => [l1, l2][i], strokeDashoffset: i => [l1, l2][i] });

const preBar = document.getElementById('preBar');
const prePct = document.getElementById('prePct');
const preloader = document.getElementById('preloader');
let loadPct = 0;

const preTl = gsap.timeline({
  onComplete: () => {
    gsap.to(preloader, {
      clipPath: 'inset(0 0 100% 0)', duration: 0.5, ease: 'expo.inOut',
      onComplete: () => { preloader.style.display = 'none'; }
    });
    document.getElementById('nav').classList.add('show');
    heroEntrance();
    // Load 19.5MB of plane data in background while user reads hero
    (function() {
      function ld(src, cb) { const s = document.createElement('script'); s.src = src; s.onload = cb; document.body.appendChild(s); }
      ld('assets/branding/plane-data.js', function() {
        ld('assets/branding/plane-data-2.js', function() { initPlaneViewer(); });
      });
    })();
  }
});
preTl
  .to('#preText', { opacity: 1, duration: 0.2 }, 0)
  .to('#preBarWrap', { opacity: 1, duration: 0.2 }, 0.1)
  .to('#prePct', { opacity: 1, duration: 0.2 }, 0.1)
  .to(p1, { strokeDashoffset: 0, duration: 0.55, ease: 'power2.inOut' }, 0)
  .to(p2, { strokeDashoffset: 0, duration: 0.55, ease: 'power2.inOut' }, 0.08)
  .to({ v: 0 }, { v: 100, duration: 0.8, ease: 'power2.inOut',
    onUpdate: function() {
      loadPct = Math.round(this.targets()[0].v);
      preBar.style.width = loadPct + '%';
      prePct.textContent = loadPct + '%';
    }
  }, 0)
  .to([p1, p2], { fill: 'rgba(12,18,32,0.85)', duration: 0.2, ease: 'power1.in' }, '-=0.2')
  .to('.pre-bolt', { scale: 30, opacity: 0, duration: 0.45, ease: 'expo.in' }, '-=0.1')
  .to(['#preText', '#preBarWrap', '#prePct'], { opacity: 0, duration: 0.2 }, '-=0.35');

// ═══ HERO ENTRANCE ═══
function heroEntrance() {
  const hTl = gsap.timeline();
  hTl
    .to('#hl1', { y: 0, duration: 1.2, ease: 'expo.out' })
    .to('#hl2', { y: 0, duration: 1.2, ease: 'expo.out' }, '-=0.8')
    .to('#heroDiv', { scaleX: 1, duration: 0.7, ease: 'expo.out' }, '-=0.5')
    .from('#heroSub', { opacity: 0, y: 15, duration: 0.7, ease: 'expo.out' }, '-=0.3')
    .from('#heroCta', { opacity: 0, y: 15, duration: 0.7, ease: 'expo.out' }, '-=0.3')
    .to('.hc-d1', { clipPath: 'inset(0 0% 0 0)', duration: 1.1, ease: 'expo.out' }, '-=0.9')
    .to('.hc-d2', { clipPath: 'inset(0% 0 0 0)', duration: 1.1, ease: 'expo.out' }, '-=0.75');
}

// ═══ HERO PARALLAX — video moves slower + zoom-out ═══
gsap.to('#heroMedia', {
  y: 200, scale: 1.0, ease: 'none',
  scrollTrigger: { trigger: '.hero', start: 'top top', end: 'bottom top', scrub: true }
});

// Hero scroll departure — content floats up as you scroll away
gsap.to('#heroContent', {
  y: -120, opacity: 0, ease: 'none',
  scrollTrigger: { trigger: '.hero', start: 'top top', end: 'bottom top', scrub: true }
});

// ═══ NAV SCROLL ═══
ScrollTrigger.create({
  start: 80,
  onUpdate: self => document.getElementById('nav').classList.toggle('scrolled', self.progress > 0)
});


// ═══ ABOUT IMAGE REVEAL (wipe) ═══
gsap.to('#aboutReveal', {
  scaleX: 0, duration: 1.2, ease: 'expo.inOut',
  scrollTrigger: { trigger: '#about', start: 'top 60%', toggleActions: 'play none none none' }
});

// ═══ THREE.JS — GLB PLANE VIEWER (top-down, left panel) ═══
function initPlaneViewer() {
  const canvas = document.getElementById('planeCanvas');
  const fallback = document.getElementById('planeFallback');
  if (!canvas || typeof THREE === 'undefined') return;

  const renderer = new THREE.WebGLRenderer({ canvas, antialias: true, alpha: true });
  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
  renderer.outputEncoding = THREE.sRGBEncoding;
  renderer.toneMapping = THREE.ACESFilmicToneMapping;
  renderer.toneMappingExposure = 1.4;
  renderer.setClearColor(0x000000, 0); // transparent
  renderer.shadowMap.enabled = true;
  renderer.shadowMap.type = THREE.PCFSoftShadowMap;

  const scene = new THREE.Scene();
  scene.background = null; // transparent — page background shows through

  const camera = new THREE.PerspectiveCamera(42, 1, 0.1, 200);
  camera.position.set(0, 2.2, 4.0); // lower perspective — more eye-level view

  // Lights
  const ambient = new THREE.AmbientLight(0xffffff, 0.55);
  scene.add(ambient);
  const key = new THREE.DirectionalLight(0xfff8f0, 2.6);
  key.position.set(2, 10, 4);
  key.castShadow = true;
  key.shadow.mapSize.width  = 1024;
  key.shadow.mapSize.height = 1024;
  key.shadow.camera.near = 1;
  key.shadow.camera.far  = 20;
  key.shadow.camera.left = key.shadow.camera.bottom = -4;
  key.shadow.camera.right = key.shadow.camera.top   =  4;
  key.shadow.bias = -0.001;
  scene.add(key);
  const fill = new THREE.DirectionalLight(0xd0e8ff, 0.7);
  fill.position.set(-5, 5, -3); scene.add(fill);
  const rim = new THREE.DirectionalLight(0xB8976A, 0.5);
  rim.position.set(3, -2, 5); scene.add(rim);

  // Fixed camera
  camera.lookAt(0, 0, 0);

  // Drag state — rotating only the plane mesh
  let isDragging = false;
  let lastX = 0;
  let spinVelocity = 0;
  let autoSpin = true;

  canvas.style.cursor = 'grab';
  canvas.addEventListener('pointerdown', e => {
    isDragging = true;
    autoSpin = false;
    lastX = e.clientX;
    spinVelocity = 0;
    canvas.style.cursor = 'grabbing';
    canvas.setPointerCapture(e.pointerId);
  });
  canvas.addEventListener('pointermove', e => {
    if (!isDragging || !planeRef) return;
    const dx = e.clientX - lastX;
    planeRef.rotation.y += dx * 0.012;
    spinVelocity = dx * 0.012;
    lastX = e.clientX;
  });
  canvas.addEventListener('pointerup', () => {
    isDragging = false;
    canvas.style.cursor = 'grab';
    setTimeout(() => { autoSpin = true; }, 2000);
  });
  canvas.addEventListener('pointerleave', () => {
    isDragging = false;
    canvas.style.cursor = 'grab';
  });

  // Multi-model carousel
  const PLANE_SOURCES = [
    (typeof PLANE_DATA   !== 'undefined') ? PLANE_DATA   : 'assets/branding/plane.glb',
    (typeof PLANE_DATA_2 !== 'undefined') ? PLANE_DATA_2 : 'assets/branding/plane2.glb',
  ];

  const PLANE_INFO = [
    {
      name: 'Gulfstream G700',
      desc: 'The pinnacle of ultra-long-range aviation. Engineered for those who demand the extraordinary on every journey.',
      stats: [
        { val: '7,500', key: 'Range (nm)' },
        { val: 'Mach .925', key: 'Top Speed' },
        { val: '19', key: 'Passengers' },
        { val: '51,000 ft', key: 'Max Altitude' },
      ]
    },
    {
      name: 'Embraer Praetor 600',
      desc: 'Super-midsize performance with intercontinental reach. The ideal balance of cabin comfort and operational efficiency.',
      stats: [
        { val: '4,018', key: 'Range (nm)' },
        { val: 'Mach .83', key: 'Top Speed' },
        { val: '12', key: 'Passengers' },
        { val: '45,000 ft', key: 'Max Altitude' },
      ]
    },
  ];

  let currentIdx = 0;
  let planeRef = null;
  let isLoading = false;

  const loader = new THREE.GLTFLoader();

  function loadPlane(idx) {
    if (isLoading) return;
    isLoading = true;

    // Fade out text panel + canvas simultaneously
    const infoCol = document.querySelector('.plane-info-col');
    if (infoCol) infoCol.classList.add('is-switching');
    canvas.style.opacity = '0';

    // Small delay so fade-out starts before we pull the model
    setTimeout(() => {
      if (planeRef) { scene.remove(planeRef); planeRef = null; }
      if (fallback) fallback.style.display = 'flex';

      loader.load(PLANE_SOURCES[idx],
        gltf => {
          isLoading = false;
          if (fallback) fallback.style.display = 'none';
          const model = gltf.scene;
          const box = new THREE.Box3().setFromObject(model);
          const center = box.getCenter(new THREE.Vector3());
          const size = box.getSize(new THREE.Vector3());
          const maxDim = Math.max(size.x, size.y, size.z);
          const scale = 2.6 / maxDim;
          model.scale.setScalar(scale);
          model.position.sub(center.multiplyScalar(scale));
          model.position.y += 0.22;
          model.traverse(n => { if (n.isMesh) n.castShadow = true; });
          scene.add(model);
          planeRef = model;
          autoSpin = true;

          // Update dots
          document.querySelectorAll('.plane-counter-dot').forEach((d, i) =>
            d.classList.toggle('active', i === idx));

          // Update info panel text while still faded out
          const info = PLANE_INFO[idx];
          if (info) {
            const nameEl = document.getElementById('planeName');
            const descEl = document.getElementById('planeDesc');
            const statsEl = document.getElementById('planeStats');
            if (nameEl) nameEl.textContent = info.name;
            if (descEl) descEl.textContent = info.desc;
            if (statsEl) statsEl.innerHTML = info.stats.map(s =>
              `<div class="plane-stat"><div class="plane-stat-val">${s.val}</div><div class="plane-stat-key">${s.key}</div></div>`
            ).join('');
          }

          // Fade everything back in on the next frame so transitions trigger
          requestAnimationFrame(() => {
            canvas.style.opacity = '1';
            if (infoCol) infoCol.classList.remove('is-switching');
          });
        },
        undefined,
        err => {
          isLoading = false;
          canvas.style.opacity = '1';
          if (infoCol) infoCol.classList.remove('is-switching');
          console.warn('GLB load error:', err);
        }
      );
    }, 180); // let fade-out animate before swapping
  }

  loadPlane(0);

  // Arrow navigation
  document.getElementById('planePrev')?.addEventListener('click', () => {
    currentIdx = (currentIdx - 1 + PLANE_SOURCES.length) % PLANE_SOURCES.length;
    loadPlane(currentIdx);
  });
  document.getElementById('planeNext')?.addEventListener('click', () => {
    currentIdx = (currentIdx + 1) % PLANE_SOURCES.length;
    loadPlane(currentIdx);
  });

  // Resize — use the canvas-wrap as reference
  function resize() {
    const wrap = document.querySelector('.plane-canvas-wrap') || canvas.parentElement;
    const w = wrap.clientWidth;
    const h = wrap.clientHeight;
    if (w === 0 || h === 0) return;
    renderer.setSize(w, h, false);
    camera.aspect = w / h;
    camera.updateProjectionMatrix();
  }
  setTimeout(resize, 80);
  window.addEventListener('resize', resize);

  function animate() {
    requestAnimationFrame(animate);
    if (planeRef) {
      if (autoSpin) {
        planeRef.rotation.y += 0.004;
      } else if (!isDragging && Math.abs(spinVelocity) > 0.0001) {
        planeRef.rotation.y += spinVelocity;
        spinVelocity *= 0.92; // momentum decay
      }
    }
    renderer.render(scene, camera);
  }
  animate();
}

// ═══ SERVICE SLIDES — CLIP-PATH REVEALS ═══
document.querySelectorAll('.svc-slide').forEach((slide, i) => {
  const dir = i % 2 === 0 ? 'inset(0 100% 0 0)' : 'inset(0 0 0 100%)';
  gsap.fromTo(slide.querySelector('img'), {
    clipPath: dir
  }, {
    clipPath: 'inset(0 0% 0 0%)',
    duration: 1.4,
    ease: 'expo.inOut',
    scrollTrigger: { trigger: slide, start: 'top 70%', toggleActions: 'play none none none' }
  });
});

// ═══ QUOTE — AUTO TYPE ON ENTER ═══
const quoteEl = document.getElementById('quoteText');
const rawText = quoteEl.textContent.trim();
quoteEl.innerHTML = rawText.split(' ').map(w => {
  if (w.startsWith('|') && w.endsWith('|')) {
    return `<span class="word em">${w.replace(/\|/g, '')}</span>`;
  }
  if (w.startsWith('|')) return `<span class="word em">${w.replace(/\|/g, '')}`;
  if (w.endsWith('|')) return `${w.replace(/\|/g, '')}</span>`;
  return `<span class="word">${w}</span>`;
}).join(' ');

const words = quoteEl.querySelectorAll('.word');
const quoteCite = document.getElementById('quoteCite');
let quoteStarted = false;
const quoteObs = new IntersectionObserver(entries => {
  entries.forEach(entry => {
    if (entry.isIntersecting && !quoteStarted) {
      quoteStarted = true;
      words.forEach((w, i) => {
        setTimeout(() => w.classList.add('lit'), i * 80);
      });
      setTimeout(() => quoteCite.classList.add('vis'), words.length * 80 + 300);
      quoteObs.disconnect();
    }
  });
}, { threshold: 0.3 });
quoteObs.observe(document.querySelector('.quote-section'));

// ═══ SCROLL REVEALS ═══
const revEls = document.querySelectorAll('.reveal');
const revObs = new IntersectionObserver(entries => {
  entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('vis'); revObs.unobserve(e.target); } });
}, { threshold: 0.1 });
revEls.forEach(el => revObs.observe(el));

// ═══ SMOOTH ANCHORS ═══
document.querySelectorAll('a[href^="#"]').forEach(a => {
  a.addEventListener('click', e => {
    e.preventDefault();
    const t = document.querySelector(a.getAttribute('href'));
    if (t) t.scrollIntoView({ behavior: 'smooth' });
    document.getElementById('mobileMenu').classList.remove('open');
  });
});

// ═══ MOBILE MENU ═══
document.getElementById('menuBtn').addEventListener('click', () => document.getElementById('mobileMenu').classList.add('open'));
document.getElementById('menuClose').addEventListener('click', () => document.getElementById('mobileMenu').classList.remove('open'));
document.querySelectorAll('.mob-link').forEach(a => a.addEventListener('click', () => document.getElementById('mobileMenu').classList.remove('open')));

// ═══ VIDEO ═══
const hv = document.getElementById('heroVid');
const hp = document.getElementById('heroPoster');
if (hv) {
  hv.loop = false;
  hv.addEventListener('playing', () => hp.style.display = 'none');
  hv.addEventListener('error', () => hv.style.display = 'none');
}
// Fleet videos — play once and freeze on last frame
document.querySelectorAll('.fleet-item video').forEach(v => {
  v.muted = true; v.playsInline = true;
  v.loop = false;
  v.play().catch(() => {});
});

// ═══ ROTATING DOTTED GLOBE ═══
(function() {
  const canvas = document.getElementById('globeCanvas');
  if (!canvas) return;
  const ctx = canvas.getContext('2d');
  const w = canvas.width, h = canvas.height;
  const R = w * 0.45;
  const cx = w / 2, cy = h / 2;
  const projection = d3.geoOrthographic()
    .scale(R)
    .translate([cx, cy])
    .clipAngle(90);
  const path = d3.geoPath(projection, ctx);
  const graticule = d3.geoGraticule().step([20, 20])();
  let landDots = [];
  let oceanDots = [];
  let rotation = -30;
  let frame = 0;
  let globeVisible = true;
  let animId = null;

  // Pause animation when globe is off-screen
  const observer = new IntersectionObserver(([entry]) => {
    globeVisible = entry.isIntersecting;
    if (globeVisible && !animId) animateGlobe();
  }, { threshold: 0.05 });
  observer.observe(canvas);

  // Office cities
  const cities = [
    { name: 'Boca Raton', coords: [-80.08, 26.36] },
    { name: 'São Paulo', coords: [-46.63, -23.55] },
    { name: 'Dallas', coords: [-96.80, 32.78] }
  ];
  // City connection pairs
  const arcs = [
    [cities[0].coords, cities[1].coords],
    [cities[0].coords, cities[2].coords],
    [cities[1].coords, cities[2].coords]
  ];

  fetch('https://cdn.jsdelivr.net/npm/world-atlas@2/land-110m.json')
    .then(r => r.json())
    .then(world => {
      const land = topojson.feature(world, world.objects.land);
      for (let lat = -80; lat <= 80; lat += 2) {
        for (let lon = -180; lon < 180; lon += 2) {
          if (d3.geoContains(land, [lon, lat])) {
            landDots.push([lon, lat]);
          }
        }
      }
      // Ocean dots at lower density to reduce lag
      for (let lat = -80; lat <= 80; lat += 6) {
        for (let lon = -180; lon < 180; lon += 6) {
          if (!d3.geoContains(land, [lon, lat])) {
            oceanDots.push([lon, lat]);
          }
        }
      }
      animateGlobe();
    })
    .catch(() => {});

  function animateGlobe() {
    ctx.clearRect(0, 0, w, h);
    rotation += 0.12;
    frame++;
    projection.rotate([rotation, -15, 0]);
    const center = projection.invert([cx, cy]);

    // 1. Atmospheric glow behind globe
    const glow = ctx.createRadialGradient(cx, cy, R * 0.6, cx, cy, R * 1.3);
    glow.addColorStop(0, 'rgba(184,151,106,0.06)');
    glow.addColorStop(0.5, 'rgba(184,151,106,0.03)');
    glow.addColorStop(1, 'rgba(184,151,106,0)');
    ctx.fillStyle = glow;
    ctx.beginPath();
    ctx.arc(cx, cy, R * 1.3, 0, Math.PI * 2);
    ctx.fill();

    // 2. Globe inner depth gradient
    const depth = ctx.createRadialGradient(cx - R * 0.15, cy - R * 0.15, 0, cx, cy, R);
    depth.addColorStop(0, 'rgba(248,247,244,0.4)');
    depth.addColorStop(0.7, 'rgba(220,215,205,0.1)');
    depth.addColorStop(1, 'rgba(180,175,165,0.15)');
    ctx.fillStyle = depth;
    ctx.beginPath();
    ctx.arc(cx, cy, R, 0, Math.PI * 2);
    ctx.fill();

    // 3. Globe outline
    ctx.beginPath();
    path({ type: 'Sphere' });
    ctx.strokeStyle = 'rgba(12,18,32,0.15)';
    ctx.lineWidth = 1.5;
    ctx.stroke();

    // 4. Graticule
    ctx.beginPath();
    path(graticule);
    ctx.strokeStyle = 'rgba(12,18,32,0.04)';
    ctx.lineWidth = 0.5;
    ctx.stroke();

    // 5. Ocean dots (very faint)
    oceanDots.forEach(d => {
      const p = projection(d);
      if (p) {
        const dist = d3.geoDistance(d, center);
        if (dist < Math.PI / 2) {
          const fade = 1 - (dist / (Math.PI / 2));
          ctx.fillStyle = `rgba(12,18,32,${0.02 + fade * 0.025})`;
          ctx.beginPath();
          ctx.arc(p[0], p[1], 0.8, 0, Math.PI * 2);
          ctx.fill();
        }
      }
    });

    // 6. Land dots
    landDots.forEach(d => {
      const p = projection(d);
      if (p) {
        const dist = d3.geoDistance(d, center);
        if (dist < Math.PI / 2) {
          const fade = 1 - (dist / (Math.PI / 2));
          const alpha = 0.25 + fade * 0.65;
          ctx.fillStyle = `rgba(12,18,32,${alpha})`;
          ctx.beginPath();
          ctx.arc(p[0], p[1], 1.5 + fade * 0.5, 0, Math.PI * 2);
          ctx.fill();
        }
      }
    });

    // 7. Connection arcs between cities
    arcs.forEach(([a, b]) => {
      const interp = d3.geoInterpolate(a, b);
      const steps = 60;
      const dashOffset = (frame * 0.02) % 1;
      ctx.strokeStyle = 'rgba(184,151,106,0.85)';
      ctx.lineWidth = 2.5;
      for (let i = 0; i < steps; i++) {
        const t1 = i / steps;
        const t2 = (i + 1) / steps;
        const p1 = projection(interp(t1));
        const p2 = projection(interp(t2));
        if (p1 && p2) {
          const d1 = d3.geoDistance(interp(t1), center);
          const d2 = d3.geoDistance(interp(t2), center);
          if (d1 < Math.PI / 2 && d2 < Math.PI / 2) {
            // Animated dash pattern
            const segPhase = (t1 + dashOffset) % 0.12;
            if (segPhase < 0.07) {
              const fade1 = 1 - d1 / (Math.PI / 2);
              ctx.globalAlpha = 0.5 + fade1 * 0.5;
              ctx.beginPath();
              ctx.moveTo(p1[0], p1[1]);
              ctx.lineTo(p2[0], p2[1]);
              ctx.stroke();
            }
          }
        }
      }
      ctx.globalAlpha = 1;
    });

    // 8. Pulsing city markers
    const pulse = Math.sin(frame * 0.04) * 0.5 + 0.5; // 0→1 oscillation
    cities.forEach(city => {
      const p = projection(city.coords);
      if (p) {
        const dist = d3.geoDistance(city.coords, center);
        if (dist < Math.PI / 2) {
          const fade = 1 - (dist / (Math.PI / 2));
          // Expanding ring
          const ringR = 6 + pulse * 12;
          ctx.beginPath();
          ctx.arc(p[0], p[1], ringR, 0, Math.PI * 2);
          ctx.strokeStyle = `rgba(184,151,106,${(1 - pulse) * 0.35 * fade})`;
          ctx.lineWidth = 1.5;
          ctx.stroke();
          // Second ring (offset phase)
          const pulse2 = Math.sin(frame * 0.04 + Math.PI) * 0.5 + 0.5;
          const ringR2 = 6 + pulse2 * 12;
          ctx.beginPath();
          ctx.arc(p[0], p[1], ringR2, 0, Math.PI * 2);
          ctx.strokeStyle = `rgba(184,151,106,${(1 - pulse2) * 0.2 * fade})`;
          ctx.stroke();
          // Solid center dot
          ctx.beginPath();
          ctx.arc(p[0], p[1], 4, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(184,151,106,${0.7 + fade * 0.3})`;
          ctx.fill();
          // Bright core
          ctx.beginPath();
          ctx.arc(p[0], p[1], 2, 0, Math.PI * 2);
          ctx.fillStyle = `rgba(255,240,220,${0.8 * fade})`;
          ctx.fill();
        }
      }
    });

    animId = globeVisible ? requestAnimationFrame(animateGlobe) : null;
  }
})();
</script>
</body>
</html>
